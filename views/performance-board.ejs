<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <meta name="author" content="Webpixels" />
  <title>Trainity - Admin Panel</title>
  <!-- Favicon -->
  <link rel="icon" href="../img/custom/favicon-32x32.jpg" type="image/png" />
  <!-- Purpose CSS -->
  <link rel="stylesheet" href="../css/purpose.css" id="stylesheet" />
  <!-- Font Awesome 5 -->
  <link rel="stylesheet" href="../libs/@fortawesome/fontawesome-free/css/all.min.css" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/progressbar.js/1.0.0/progressbar.min.js"></script>

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

  <style>
    .frameGraph {
        display: inline-flex;
padding: 24px;
flex-direction: column;
align-items: flex-start;
gap: 24px;
border-radius: var(--Radius-medium, 8px);
background: #FFF;
box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.06), 0px 1px 3px 0px rgba(16, 24, 40, 0.10);
    }

    .frameGraph .heading-wrapper {
      display: flex;
      align-items: center;
      gap: 4px;
      position: relative;
      align-self: stretch;
      width: 100%;
      flex: 0 0 auto;
    }

    .frameGraph .heading {
      position: relative;
      width: fit-content;
      margin-top: -1px;
      
      font-weight: 600;
      font-size: 18px;
      letter-spacing: 0;
      line-height: 24px;
      white-space: nowrap;
    }

    .frameGraph .group {
      position: relative;
      width:100%;
      height: 417.39px;

      border-left: 3px solid #667085;
      border-bottom: 3px solid #667085;
    }

    .frameGraph .overlap {
      position: absolute;
      width: 100%;
      height: 389px;
      top: 0;
      left: -1px;
      background-image: url(./img/line-199.svg);
      background-size: 100% 100%;
    }

    .frameGraph .div {
      display: inline-flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 6px;
      position: relative;
      left: 2px;
    }

    .frameGraph .group-2 {
      position: relative;
      width: 100%;
      height: 108px;
      margin-right: -2px;
    }

    .frameGraph .overlap-group {
      position: absolute;
      width: 100%;
      height: 48px;
      top: 40px;
      left: 0;
      background: linear-gradient(270deg, rgb(152.07, 161.97, 178.92) 0.04%, rgb(234, 236, 240) 100%);
    }

    .frameGraph .img {
      position: absolute;
      width: 32px;
      height: 32px;
      top: 8px;
      left: 90%;
    }

    .frameGraph .text {
      position: absolute;
      top: 88px;
      left: 6px;
      font-weight: 500;
      font-size: 16px;
      letter-spacing: 0;
      line-height: 20px;
      white-space: nowrap;
    }

    .frameGraph .tooltip {
      left: 564px;
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      position: absolute;
      top: 0;
      border-radius: 8px;
      box-shadow: var(--shadow-lg);
    }

    .frameGraph .content {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      padding: 8px 12px;
      position: relative;
      align-self: stretch;
      width: 100%;
      flex: 0 0 auto;
      background-color: var(--gray-50);
      border-radius: 8px;
    }

    .frameGraph .text-wrapper {
      position: relative;
      width: fit-content;
      margin-top: -1px;
      font-size: var(--text-xs-medium-font-size);
      text-align: center;
      line-height: var(--text-xs-medium-line-height);
      font-weight: var(--text-xs-medium-font-weight);
      color: var(--gray-700);
      letter-spacing: var(--text-xs-medium-letter-spacing);
      white-space: nowrap;
      font-style: var(--text-xs-medium-font-style);
    }

    .frameGraph .tooltip-2 {
      position: relative;
      width: 16px;
      height: 6px;
    }

    .frameGraph .group-3 {
      position: relative;
      width: 100%;
      height: 108.86px;
    }

    .frameGraph .avatar-wrapper {
      position: absolute;
      width: 100%;
      height: 48px;
      top: 41px;
      left: 0;
      background: linear-gradient(270deg, rgb(72, 191, 132) -0.04%, rgb(209, 250, 223) 100%);
    }

    .frameGraph .avatar {
      position: relative;
      width: 32px;
      height: 32px;
      top: 8px;
      left: 477px;
      border-radius: 290.91px;
      background-image: url(./img/avatar.png);
      background-size: cover;
      background-position: 50% 50%;
    }

    .frameGraph .text-2 {
      position: absolute;
      top: 89px;
      left: 6px;
      font-size: 16px;
      line-height: 20px;
      font-weight: 500;
      color: var(--gray-700);
      letter-spacing: 0;
      white-space: nowrap;
    }

    .frameGraph .tooltip-3 {
      left: 100%;
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      position: absolute;
      top: 0;
      border-radius: 8px;
      box-shadow: var(--shadow-lg);
    }

    .frameGraph .div-wrapper {
      background-color: var(--success-50);
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      padding: 8px 12px;
      position: relative;
      align-self: stretch;
      width: 100%;
      flex: 0 0 auto;
      border-radius: 8px;
    }

    .frameGraph .group-4 {
      position: relative;
      width: 100%;
      height: 107.71px;
    }

    .frameGraph .overlap-2 {
      position: absolute;
      width: 100%;
      height: 88px;
      top: 0;
      left: 0;
    }

    .frameGraph .rectangle {
      position: absolute;
      width: 100%;
      height: 48px;
      top: 40px;
      left: 0;
    }

    .frameGraph .avatar-2 {
      position: absolute;
      width: 32px;
      height: 32px;
      top: 48px;
      left: 100%;
      border-radius: 290.91px;
      background-image: url(./img/avatar.svg);
      background-size: cover;
      background-position: 50% 50%;
    }

    .frameGraph .tooltip-4 {
      left: 100%;
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      position: absolute;
      top: 0;
      border-radius: 8px;
      box-shadow: var(--shadow-lg);
    }

    .frameGraph .content-2 {
      background-color: var(--warning-50);
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      padding: 8px 12px;
      position: relative;
      align-self: stretch;
      width: 100%;
      flex: 0 0 auto;
      border-radius: 8px;
    }

    .frameGraph .navbar {
      display: flex;
      width: 100%;
      align-items: flex-start;
      justify-content: space-between;
      position: absolute;
      top: 407px;
      left: 0;
    }

    .frameGraph .text-wrapper-2 {
      position: relative;
      width: fit-content;
      margin-top: -1px;
      font-weight: 500;
      color: var(--gray-800);
      font-size: 16px;
      letter-spacing: 0;
      line-height: 20px;
      white-space: nowrap;
    }


    .semicircle {
	position:relative;
	margin: 0 auto;
	text-align:center;
	display: flex;
	justify-content:center;
	align-items:center;
	
	svg {
		height: 100%;
		max-width: 568px;
		width: 100%;
		display:block;
	}
}
    .text-gray-14-500 {
      color: var(--gray-600, #475467);
      font-size: 14px;
      font-style: normal;
      font-weight: 500;
      line-height: 20px;
    }
     .ProgressKeyResult {
      height: 8px;
      flex-shrink: 0;
      width: 150px;
      border-radius: 4px;
      background: var(--success-100, #D1FADF);
    }
    .progress__bar {
      height: 100%;
      background: #48bf84;
      transition: all 0.2s;
      border-radius: 4px;
    }
  tr,td{
    display: flex;
  }
     
    body {
      font-family: 'Manrope', sans-serif !important;
    }

    

    .normalText {
      color: var(--gray-500, #667085);
    }
    .activeButton {
      display: flex;
      padding: 10px 16px;
      justify-content: center;
      align-items: center;
      gap: 8px;
      background: white;
      border-radius: var(--radius-medium, 8px);
      border: 1px solid var(--brand-primary, #48BF84);
      color: var(--brand-primary, #48BF84);
      text-align: center;
      font-size: 14px;
      font-style: normal;
      font-weight: 500;
      line-height: 20px;
      /* 142.857% */
      letter-spacing: 0.1px;
    }

    .disableButton {
      display: flex;
      padding: 10px 16px;
      justify-content: center;
      align-items: center;
      gap: 8px;
      border-radius: var(--radius-medium, 8px);
      border: 1px solid var(--gray-300, #D0D5DD);
      color: var(--gray-300, #D0D5DD);
      text-align: center;
      font-size: 14px;
      font-style: normal;
      pointer-events: none;
      font-weight: 500;
      line-height: 20px;
      /* 142.857% */
      letter-spacing: 0.1px;
    }

    .activeTaskImage {
      border: 8px solid var(--success-50, #ECFDF3);
      background: var(--success-100, #D1FADF);
    }

    .disableTaskImage {
      border: 8px solid var(--gray-50, #F9FAFB);
      background: var(--gray-100, #F2F4F7);
    }

    .text-16-700 {
      color: var(--gray-800, #1D2939);
      font-size: 18px;
      font-style: normal;
      font-weight: 500;
      line-height: normal;
      letter-spacing: 0.09px;
    }

    .text-24-700 {
      color: #000;
      font-size: 24px;
      font-style: normal;
      font-weight: 700;
      line-height: normal;
    }

    .fontsize34 {
      font-size: 34px;
    }

    .streak-dates-box {
      display: flex;
      padding: 16px;
      justify-content: space-between;
      align-self: stretch;
      border-radius: var(--radius-medium, 8px);
      background: #FFF;
      box-shadow: 0px 2px 4px -2px rgba(16, 24, 40, 0.06), 0px 4px 8px -2px rgba(16, 24, 40, 0.10);
    }


    .daily-task-card {
      border: 1px solid #ececec;
      border-radius: 14px;
      padding: 20px 24px;
    }

    .modal-box {
      display: flex;
      padding: 16px;
      justify-content: center;
      align-items: flex-start;
      gap: 8px;
      flex: 1 0 0;
      border-radius: 12px;
      border: 1px solid var(--stroke-secondary, #DCDCDC);
      background: var(--surface-primary, #FFF);
    }

    .heading {

      color: var(--brand-primary, #48BF84);
      font-size: 16px;
      font-style: normal;
      font-weight: 500;
      line-height: 24px;
      /* 150% */
    }

    .active {
      color: #48bf84;
      width: 100px;
      display: flex;
      border-bottom: 1px solid #48bf84;
      align-items: center;
      justify-content: center;
    }

    .modal-heading {
      color: var(--text-content-primary, #181818);
      font-size: 24px;

      font-style: normal;
      font-weight: 700;
      line-height: 100%;
    }

    .months {
      display: flex;
      padding: 10px 14px;
      align-items: center;
      gap: 8px;
      align-self: stretch;
      border-radius: var(--radius-medium, 8px);
      border: 1px solid var(--gray-300, #D0D5DD);
      background: var(--White, #FFF);
      box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.05);

    }

    .rating-status {
      display: flex;
      padding: 4px 8px;
      justify-content: center;
      align-items: center;
      gap: 5px;
      margin-top: 10px;
      color: black;
    }

    #sliderValue {
      color: var(--pill-text-blue, #3B82F6);
      font-size: 12px;
      font-style: normal;
      width: 7%;
      font-weight: 700;
      line-height: 158.6%;
      /* 19.032px */
    }

    .golden-rating-status {
      border-radius: 14px;
      background: linear-gradient(129deg, #FBE6A2 0%, #FFFCF3 34.55%, #FBEECA 66.59%, #FEFAEB 100%);
    }

    .skyblue-rating-status {
      border-radius: 14px;
      background: var(--pill-surface-trainity, #F2FAF6);
    }

    .orange-rating-status {
      border-radius: 14px;
      background: var(--pill-surface-orange, #FFFBEB);
    }

    .red-rating-status {
      border-radius: 14px;
      background: var(--pill-text-red, #FF6565);
    }

    .streakcount-line {
      flex: 1;
      height: 1px;
      min-width: 50px;
      margin-top: 70px;
      border: 1px dashed #999;
      margin-bottom: 10px;
    }

    .roadmap {
      display: flex;
      align-items: center;
    }

    .checkpoint {
      display: flex;
      flex-direction: column;
    }

    .checkpoint img {
      width: 40px;
      height: 40px;
    }

    .checkpoint-title {
      margin-top: 10px;
    }

    .dotted-rule {
      flex: 1;
      border-bottom: 2px dashed #D0D5DD;
      height: 2px;
      margin-top: -15px;
    }

    .current-rule {
      border-bottom: 2px dashed #D0D5DD;
      height: 2px;
      margin-top: -15px;
      width: var(--value)px;
    }

    .solid-rule {
      flex: 1;
      height: 6px;
      flex-shrink: 0;
      margin: 0px -5px;
      background: #fff;
    }

    .circle {
      display: flex;
      padding: 10px;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      align-self: stretch;
      border-radius: 8px;
    }

    .avatar-group {
      display: flex;
      align-items: center;
    }

    .avatar-container {
      display: flex;
      align-items: center;
      gap: 8px;
      /* Adjust the spacing between avatars */
    }


    .avatar-container img {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      position: relative;
      margin-left: -20px;
      /* Adjust this value to control the overlap */
    }

    .more-avatar {
      background-color: #e1e1e1;
      /* Set the background color of the "+7" tag */
      border-radius: 50%;
      width: 24px;
      /* Set the size of the "+7" tag */
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #111;
      font-weight: bold;
      cursor: pointer;
      font-size: 14px;
      ;
    }

    th,
    td {
      display: flex;
      justify-content: center;
      padding: 12px 24px;
      align-items: center;
      gap: 4px;
      height:42px;
      align-self: stretch;
      color: var(--gray-600, #475467);
      font-size: 12px;
      font-style: normal;
      font-weight: 500;
      line-height: 18px;
      /* 150% */

    }

    th:first-child,
    td:first-child {
      display: flex;
      justify-content: flex-start;
    }

    th:last-child,
    td:last-child {
      display: flex;
      justify-content: flex-end;
    }

    .big {
      border-radius: 8px;
      border: 1px solid var(--brand-primary, #48BF84);
      background: var(--pill-surface-trainity, #F2FAF6);
    }

    .small {
      border-radius: 8px;
      border: 1px dashed var(--stroke-primary, #ECECEC);
      background: var(--surface-primary, #FFF);
    }

    .streak-count {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      padding: 0px;
      gap: 8px;
      width: 100%;
      overflow-x: hidden;
      margin-top: 10px;
      flex: none;
      order: 1;
      align-self: stretch;
      flex-grow: 0;
      overflow: auto;
    }

    .bonus {
      font-size: 17px;
      font-weight: bold;
      display: flex;
      flex-direction: row;
      align-items: center;
      padding: 2px 4px;
      margin-bottom: -25px;
      background: linear-gradient(105.25deg, #087941 16.01%, #1AF287 103.85%);
      border: 1px solid #DCDCDC;
      border-radius: 8px;
    }

    .words {
      overflow: hidden;
      max-width: 120px;
      text-overflow: ellipsis;
      font-size: 14px;
      font-style: normal;
      line-height: normal;
      max-height: 30px;
      margin: 10px 0px;
      display: flex;

      justify-content: space-between;
    }

    .notes {
      margin-left: 30px;
      display: flex;
      flex-direction: row;
      align-items: center;
      padding: 8px 16px;
      gap: 8px;
      width: 737px;
      height: 54px;
      background: #FFFBEB;
      border-radius: 8px;
    }

    .dotted-line {
      width: 2px;
      height: 50px;
      margin-top: -20px;
      margin-left: 50px;
      position: relative;
    }

    .green {
      background-color: #48bf84;
      color: white;
    }

    .text-green {
      color: #48bf84;
    }

    .dotted-line::before {
      content: "";
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 1px;
      height: 100%;
      background: repeating-linear-gradient(to bottom, transparent, transparent 3px, black 3px, black 6px);
    }

    .graph {
      display: flex;
      padding: 0px 4px;
      justify-content: center;
      align-items: center;
      gap: 2px;
      width: 40px;
    }

    .decrease {
      border-radius: 8px;
      background: var(--pill-text-red, #FF6565);
    }

    .increase {
      border-radius: 8px;
      background: var(--pill-text-blue, #3B82F6);
    }

    .current_day {
      border: 1px dashed var(--warning-400, #FDB022);
      background: var(--warning-25, #FFFCF5);
    }

    .perv_day {
      border: 1px dashed var(--pill-text-red, #FF6565);
      background: var(--error-50, #FEF3F2);
    }

    .complete_day {
      border: 1px dashed var(--ref-primary-primary-60-brand, #48BF84);
      background: var(--ref-primary-primary-99, #F5FFF5);
    }

    .text-red-14-700 {
      color: #FF6565;
      font-size: 14px;
      font-style: normal;
      font-weight: 700;
      line-height: normal;
    }

    .frameLevelProgress {
      display: flex;
      padding: 24px 32px;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      flex: 1 0 0;
      border-radius: var(--radius-medium, 8px);
      background: var(--White, #FFF);
      /* Shadow/sm */
      box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.06), 0px 1px 3px 0px rgba(16, 24, 40, 0.10);
    }

    .frameLevelProgress .div {
      display: flex;
      align-items: center;
      gap: 16px;

    }

    .frameLevelProgress .featured-icon {
      position: relative;
      width: 56.57px;
      height: 56.57px;
      margin-top: -4.29px;
      margin-bottom: -4.29px;
      margin-left: -4.29px;
      background-color: var(--success-100);
      border-radius: 24px;
      border: 8.57px solid;
      border-color: var(--success-50);
    }

    .frameLevelProgress .noun-mission {
      position: relative;
      width: 25px;
      height: 27px;
      top: 11px;
      left: 11px;
      overflow: hidden;
    }

    .frameLevelProgress .layer {


      display: flex;
      width: 48px;
      height: 48px;
      padding: 10.605px 11.462px 10.604px 11.422px;
      justify-content: center;
      align-items: center;
      border-radius: 24px;
      border: 8.571px solid var(--success-50, #ECFDF3);
      background: var(--success-100, #D1FADF);

    }

    .frameLevelProgress .overlap-group {
      width: 50px;
      height: 9px;
      top: 32px;
      position: absolute;
      left: 0;
    }

    .frameLevelProgress .text-wrapper {
      position: absolute;
      top: 0;
      left: 0;

      font-weight: 700;
      color: var(--brandprimary);
      font-size: 3.9px;
      letter-spacing: 0;
      line-height: normal;
    }

    .frameLevelProgress .text-wrapper-2 {
      position: absolute;
      top: 4px;
      left: 0;

      font-weight: 700;
      color: var(--brandprimary);
      font-size: 3.9px;
      letter-spacing: 0;
      line-height: normal;
    }

    .frameLevelProgress .text-wrapper-3 {
      position: relative;
      width: fit-content;
      font-weight: 700;
      color: black;
      font-size: 18px;
      letter-spacing: 0;
      line-height: normal;
    }

    .frameLevelProgress .div-2 {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      gap: 40px;
      align-self: stretch;
    }

    .div-3 {
      height: 105.6px;
      align-self: stretch;
      background: #FFF;
    }

    .overlap {
      flex: 1;
      height: 127px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .frameLevelProgress .progress-bar {
      width: 818px;
      top: 45px;
      left: 47px;
      display: flex;
      align-items: center;
      gap: 12px;
      position: absolute;
    }

    .frameLevelProgress .progress-bar-2 {
      position: relative;
      flex: 1;
      flex-grow: 1;
      height: 8px;
      border-radius: 8px;
    }

    .frameLevelProgress .progress {
      width: 1px;
      height: 8px;
      background-color: var(--brandprimary);
    }

    .element {
      display: inline-flex;
      padding: 2.07px 0px 4.48px 0px;
      flex-direction: column;

      justify-content: flex-end;
      align-items: center;
      gap: 3.85px;
    }



    .frameLevelProgress .check {
      position: absolute;
      width: 23px;
      height: 23px;
      top: 13px;
      left: 13px;
    }

    .level {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .div-4 {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 3px;
      position: relative;
      flex: 0 0 auto;
    }

    .frameLevelProgress .gem {
      position: relative;
      width: 14px;
      height: 14px;
      object-fit: cover;
    }

    .frameLevelProgress .text-wrapper-4 {
      position: relative;
      width: fit-content;
      margin-top: -1px;
      font-weight: 600;
      color: var(--gray-400);
      font-size: 11.1px;
      text-align: center;
      letter-spacing: 0;
      line-height: normal;
    }

    .button {
      display: inline-flex;
      height: 22.6px;
      align-items: center;
      justify-content: center;
      padding: 5.4px 5.7px 6.2px 5.8px;
      position: relative;
      background-color: #181818;
      border-radius: 800px;
    }

    .text-wrapper-5 {
      position: relative;
      width: 43px;
      height: 9.95px;
      margin-top: -0.47px;
      font-weight: 700;
      color: #ffffff;
      font-size: 11px;
      text-align: center;
      letter-spacing: 0;
      line-height: 11px;
      white-space: nowrap;
    }

    .frameLevelProgress .progress-bar-wrapper {
      width: 774px;
      top: 44px;
      left: 53px;
      display: flex;
      align-items: center;
      gap: 12px;
      position: absolute;
    }

    .frameLevelProgress .line {
      position: absolute;
      width: 713px;
      height: 1px;
      top: 8px;
      left: 143px;
    }

    .frameLevelProgress .progress-2 {
      position: absolute;
      width: 106px;
      height: 8px;
      top: 0;
      left: 0;
      background-color: var(--brandprimary);
    }

    .div-5 {
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: flex-start;
      align-items: center;
      gap: 20px;
    }


    .frameLevelProgress .img {
      position: relative;
      width: 35px;
      height: 35px;
    }


    .frameLevelProgress .img-2 {
      position: absolute;
      width: 49px;
      height: 49px;
      top: 0;
      left: 0;
    }

    .frameLevelProgress .img-wrapper {
      position: absolute;
      width: 49px;
      height: 99px;
      top: 22px;
      left: 601px;
    }

    .frameLevelProgress .element-2 {
      position: absolute;
      width: 77px;
      height: 106px;
      top: 0;
      left: 893px;
    }

    .frameLevelProgress .level-2 {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
      position: absolute;
      top: 59px;
      left: 0;
    }

    .frameLevelProgress .overlap-group-wrapper {
      position: absolute;
      width: 56px;
      height: 56px;
      top: -1px;
      left: 10px;
    }

    .frameLevelProgress .lock-wrapper {
      position: relative;
      width: 49px;
      height: 49px;
      top: 4px;
      left: 3px;
      border-radius: 24.67px;
      border: 3.34px solid;
      border-color: var(--brandprimary);
    }

    .frameLevelProgress .lock {
      position: absolute;
      width: 26px;
      height: 26px;
      top: 8px;
      left: 9px;
    }

    .frameLevelProgress .div-6 {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      position: relative;
      flex: 0 0 auto;
    }

    .frameLevelProgress .ph-path-bold {
      position: relative;
      width: 24px;
      height: 24px;
    }

    .frameLevelProgress .heading-2 {
      position: relative;
      width: fit-content;
      margin-top: -1px;

      font-weight: 700;
      color: var(--brandprimary);
      font-size: 16px;
      letter-spacing: 0;
      line-height: 24px;
      white-space: nowrap;
    }

    .progressTask {
      height: 8px;
      flex-shrink: 0;
      width: 75%;
      border-radius: 4px;
      background: var(--success-100, #D1FADF);
    }

    .progress__fill {
      width: 30%;
      height: 100%;
      background: #48bf84;
      transition: all 0.2s;
      border-radius: 4px;
    }


    [role="progressbar"] {
      --percentage: var(--value);
      --primary: #48bf84;
      --secondary: #F2F4F7;
      --width: 280px;
      --height: 154px;
      animation: progress 2s 0.5s forwards;
      width: var(--width);
      height: var(--height);
      aspect-ratio: 2 / 1;
      border-radius: 50% / 100% 100% 0 0;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }

    [role="progressbar"]::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: conic-gradient(from 0.75turn at 50% 100%, var(--primary) calc(var(--percentage) * 1% / 2), var(--secondary) calc(var(--percentage) * 1% / 2 + 0.1%));
      mask: radial-gradient(at 50% 100%, white 55%, transparent 55.5%);
      mask-mode: alpha;
      -webkit-mask: radial-gradient(at 50% 100%, #0000 55%, #000 55.5%);
      -webkit-mask-mode: alpha;
    }

    [role="progressbar"]::after {
      counter-reset: percentage var(--value);
      content: counter(percentage);
      color: var(--gray-900, #101828);
      text-align: center;
      font-size: 48px;
      font-style: normal;
      font-weight: 500;
      line-height: 60px;
      /* 125% */
      letter-spacing: -0.96px;
    }

    .greenLine {
      flex: 1;
      height: 8px;
      margin: 0px -20px;
      margin-top: -19px;
      flex-shrink: 0;
      background: var(--brand-primary, #48BF84);
    }

    .current-greenLine {
      height: 8px;
      margin: 0px -20px;
      margin-top: -19px;
      flex-shrink: 0;
      background: var(--brand-primary, #48BF84);
    }


    .dottedLine {
      flex: 1;
      border: 8px #D0D5DD dotted;
    }
  </style>

  <!-- Hotjar Tracking Code for Admin Website -->
  <script>
    (function(h, o, t, j, a, r) {
      h.hj = h.hj || function() {
        (h.hj.q = h.hj.q || []).push(arguments)
      };
      h._hjSettings = {
        hjid: 3534926,
        hjsv: 6
      };
      a = o.getElementsByTagName('head')[0];
      r = o.createElement('script');
      r.async = 1;
      r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
      a.appendChild(r);
    })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
  </script>

</head>

<body class="application application-offset" style="margin-left:300px;width: calc(100vw - 300px);background: #fafafa;display: flex;
padding: 32px;
flex-direction: column;
align-items: flex-start;
gap: 24px;
flex: 1 0 0;" id="MainPageContent">
  <!-- Chat modal -->
  <!-- Sidenav -->
  <%- include('partials/sidepanel'); -%>
  <!-- Content -->
  <div class="main-content position-relative" style="margin-top:0px;display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 24px;">

    <div style="display: flex;align-items: flex-start;width: 100%;gap:4px;flex-direction: column;">
      <div style="color: var(--gray-900, #101828);
        font-size: 30px;
        font-style: normal;
        font-weight: 600;
        line-height: 38px; /* 126.667% */">
        Howdy, <%= user.displayName %>
      </div>
      <div style="color: var(--gray-500, #667085);
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: 24px; /* 150% ">Let's take a look at your progress so far</small>
      </div>
    </div>


    <%- include('rating-feedback-test'); -%>
    <%if(progresslevels){%>
    <%- include('partials/level_progression'); -%>
    <%}%>
         <%- include('partials/leave-announcement'); -%>
    <%- include('partials/utility-modals'); -%>
    <!-- Level Map -->

    <%if(showprogress){%>
    <button type="button" class="btn btn-primary" id="progresslevelButton" style="width: 0px;height: 0px;" data-toggle="modal" data-target="#level_progression">
      .
    </button>
    <script>
      const progressbutton = document.getElementById('progresslevelButton')
      progressbutton.click()
      progressbutton.style.display = 'none'
    </script>
    <% } %>
    <% if(leaveAnncouncement){%>

    <button data-target="#leave_announcement" data-toggle="modal" id="leaveAnncouncementbutton"> leave_announcement</button>
    <script>
      const leaveAnncouncementbutton = document.getElementById('leaveAnncouncementbutton')
      leaveAnncouncementbutton.click()
      leaveAnncouncementbutton.style.display = 'none'
    </script>
    <%}%>

        <div style="display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 12px;
        align-self: stretch;">
      <div style="display: flex;
        width: 213px;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 16px;">
        <img src="<%=employee.image%>" style="display: flex;
    width: 90px;
    height: 90px;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 225px;">
    <div style="display: flex;flex-direction: column;justify-content: center;align-items: center;gap: 4px;">
      <div style="color: var(--text-content-primary, #181818);
        
        font-size: 18px;
        font-style: normal;
        font-weight: 600;
        line-height: normal;"><%=employee.displayName%></div>
      <div style="color: var(--text-content-secondary, #898989);
        
        font-size: 18px;
        font-style: normal;
        font-weight: 600;
        line-height: normal;"><%=employee.team%></div>
      <div style="display: flex;
        height: 22.6px;
        padding: 5.4px 5.7px 6.2px 5.8px;
        justify-content: center;
        align-items: center;
        border-radius: 800px;
        display: flex;
width: 50px;
flex-direction: column;
color: #FFF;
text-align: center;
font-size: 11px;
font-style: normal;
font-weight: 700;
line-height: 11px;
        background: #181818;">Level <%=employee.currentLevel%></div>
    </div>
  </div>
  <div class="frameLevelProgress">
    <div class="div">
      <div class="layer">
        <img src="../Performance dashboard Icons/Levels UI/layer.svg" style="width: 22.66px;
              height: 20.416px;
              flex-shrink: 0;" />
      </div>
      <div class="text-wrapper-3">Your progress</div>
    </div>
    <div class="div-2">
      <div class="div-3">
        <div class="overlap">
          <% for(let i=0; i<levels.length; i++) { %>
          <%if(levels[i].state==1){%>
          <div class="element" style="padding: 0px;gap:0px;">
            <div style="height: 20px;"></div>
            <img src="https://dvfkpf9qxfl09.cloudfront.net/EmployeeProject/Your%20progress%20-%20Completed%20Level-805a5563-3bb4-43ec-916c-4f2fcf6f9d75.svg%20xml" />
            <div class="level">
              <div class="div-4">
                <img class="gem" src="../img/gem.svg" />
                <div class="text-wrapper-4"><%=levels[i-1]?.badges%> </div>
              </div>
              <div class="button" data-target="#levelModal-<%= i-1 %>" data-toggle="modal">
                <div class="text-wrapper-5">LEVEL <%=i%></div>
              </div>
            </div>
          </div>
          <% let percbadges =(((user.badges - levels[i-1]?.badges) / (levels[i].badges - levels[i-1]?.badges)) * 100).toFixed(2); %>


          <%if(percbadges<33){%>

          <div class="current-greenLine" style="width:<%=percbadges%>%"></div>
          <div class="div-5">
            <div class="heading" style="width: 30px;"><%=percbadges%>%</div>
            <img style="margin-top: -20px;z-index:2" src="../Performance dashboard Icons/Levels UI/Your progress- Runner.svg" />
          </div>
          <div class="current-rule" style="width:<%=(33-percbadges)%>%"></div>

          <img src="../Performance dashboard Icons/Levels UI/Your progress - surprise.svg" style="margin-top: -20px;;z-index:2" />
          <div class="dotted-rule"></div>
          <img src="../Performance dashboard Icons/Levels UI/Your progress - surprise.svg" style="margin-top: -20px;;z-index:2" />
          <div class="dotted-rule"></div>
          <%}else if(percbadges<66){%>
          <div class="greenLine"></div>
          <img src="../Performance dashboard Icons/Levels UI/Your progress - Badge.svg" style="margin-top: -20px;;z-index:2" />

          <div class="current-greenLine" style="width:<%=percbadges-33%>%"></div>
          <div class="div-5">
            <div class="heading" style="width: 30px;"><%=percbadges%>%</div>
            <img style="margin-top: -20px;z-index:2" src="../Performance dashboard Icons/Levels UI/Your progress- Runner.svg" />
          </div>
          <div class="current-rule" style="width:<%=(66-percbadges)%>%"></div>

          <img src="../Performance dashboard Icons/Levels UI/Your progress - surprise.svg" style="margin-top: -20px;z-index:2" />
          <div class="dotted-rule"></div>
          <%}else{%>
          <div class="greenLine"></div>
          <img src="../Performance dashboard Icons/Levels UI/Your progress - Badge.svg" style="margin-top: -20px;z-index:2" />
          <div class="greenLine"></div>
          <img src="../Performance dashboard Icons/Levels UI/Your progress - Badge.svg" style="margin-top: -20px;z-index:2" />

          <div class="current-greenLine" style="width:<%=percbadges-66%>%"></div>
          <div class="div-5">
            <div class="heading" style="width: 30px;"><%=percbadges%>%</div>
            <img style="margin-top: -20px;z-index:2" src="../Performance dashboard Icons/Levels UI/Your progress- Runner.svg" />
          </div>
          <div class="current-rule" style="width:<%=(100-percbadges)%>%"></div>

          <%}%>
          <div class="element" style="padding: 0px;gap:0px;">
            <div style="height: 20px;"></div>
            <img src="../Performance dashboard Icons/Levels UI/Your progress- Locked level.svg" />
            <div class="level">
              <div class="div-4">
                <img class="gem" src="../img/gem.svg" />
                <div class="text-wrapper-4" ><%=levels[i].badges%>
        </div>
      </div>
      <div class="button" data-target="#levelModal-<%= i %>" data-toggle="modal">
        <div class="text-wrapper-5">LEVEL <%=i+1%></div>
      </div>
    </div>
  </div>
 
  <%}%>
         <%}%>
  </div>
  </div>
  <div class="div-6" data-target="#ShowRoadmap" data-toggle="modal" style="cursor: pointer;">
    <img src="../Performance dashboard Icons/Levels UI/View Roadmap.svg" />
    <div class="heading-2" style="color: #48bf48;
    color: #48bf84;">View Roadmap</div>
  </div>
  </div>
  </div>
  </div>

  <div style="display: flex;
        align-items: flex-start;
        gap: 25px;
       width: 100%;
        align-self: stretch;">
    <div style=" width: min(900px,100%);display: flex;
        flex-direction: column;
       flex-grow: 1;
        align-items: flex-start;
        gap: 16px;
        align-self: stretch;">
      <div style="display: flex;gap:8px;align-items:center; color: var(--gray-600, #475467);">
        <div style="display: flex;
        flex-direction: column;
font-size: 16px;
cursor: pointer;
font-style: normal;
padding-bottom: 10px;
font-weight: 600;
line-height: 20px; /* 125% */
        justify-content: center;
        align-items: center;" class="active" onclick="ChangeTab()" id="InitiativesTab"> Initiatives</div>
        <div style="display: flex;
        flex-direction: column;
font-size: 16px;
cursor: pointer;
padding-bottom: 10px;
font-style: normal;
font-weight: 600;
line-height: 20px; /* 125% */
        justify-content: center;
        align-items: center;" onclick="ChangeTab()" id="ProjectsTab" >Projects</div>
      </div>
      <%- include('partials/Task_Employee.ejs'); -%>
      <%- include('partials/Project_Employee.ejs'); -%>
      <% let day = 0 %>
      <% let streakCount=0; %>
      <% let targetdate %>
      <% for (let i = 0; i < streakDays.length; i++) { %>
      <% if (streakDays[i].date>=currentday.date) { %>
      <%if(streakDays[i].date==currentday.date) {%>
      <% streakCount=day;%>
      <%}%>
         <% if (!streakDays[i].isdone) { %>
      <% day += 1; %>
      <% }else { %>
      <% day = 0; %>
      <% }%>

      <% if (day === 3) { %>
      <% targetdate = streakDays[i].date.slice(-2) %>
      <% day = 3 %>
      <% break; %>
      <% } else if (day === 5) { %>
      <% targetdate = streakDays[i].date.slice(-2) %>
      <% day = 7 %>
      <% break; %>
      <% }else if (day === 10) { %>
      <% targetdate = streakDays[i].date.slice(-2) %>
      <% day = 15 %>
      <% break; %>
      <% } else if (day=== 15) { %>
      <% targetdate = streakDays[i].date.slice(-2) %>
      <% day = 22 %>
      <% break; %>
      <% } else if (day === 23) { %>
      <% targetdate = streakDays[i].date.slice(-2) %>
      <% day = 35 %>
      <% break; %>
      <% } %>
      <% } else if (streakDays[i].isdone) { %>
      <% day += 1; %>
      <% }else { %>
      <% day = 0; %>
      <% }%>
      <%}%>
      <% let datel=currentday.date%>
      <% let currentmonth=new Date(datel).getMonth();%>
   <div style="display: flex;
   padding: 36px 32px;
   flex-direction: column;
   align-items: flex-start;
   gap: 18px;
   align-self: stretch;
   border-radius: 14px;
   border: 1px solid var(--stroke-primary, #ECECEC);
   background: var(--surface-primary, #FFF);" id="monthly-overview">
     <div style="display:flex;gap:20px;align-items: center;justify-content: space-between;width: 100%;"> 
       <div style="display: flex;
       align-items: center;
       gap: 16px;">
       <input type="month" id="monthSelect" style="width: 148px;
       padding: 10px;
       color: var(--gray-900, #101828);
font-size: 16px;
height: 40px;
font-style: normal;
font-weight: 400;
line-height: 24px;border-radius: var(--radius-medium, 8px);
border: 1px solid var(--gray-300, #D0D5DD);
background: var(--White, #FFF);
/* Shadow/xs */
box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.05);"  value="<%= (new Date(datel)).toISOString().substr(0, 7) %>">
    
    <div style="
 font-style: normal;
 font-weight: 700;
 font-size: 18px;
 line-height: 25px;
 color: #181818;" id="streakHeader">Current Streak: <span style="color:#48bf84;margin-left:5px"><%=streakCount%> Days <img src='../img/icons performance mgmt/desktop/Streak states.svg' /></span>
    </div>
  </div>

  <div style="display: flex;
height: 29px;
padding: 0px 16px;
justify-content: center;
align-items: center;
gap: 4px;color: var(--content-on-light-primary, #181818);
font-size: 12px;
font-style: normal;
font-weight: 400;
line-height: normal;
border-radius: var(--radius-medium, 8px);
background: #D9FDEB;" id="streakHeaderStreak">Continue 4.5+ <img src="../img/Star.svg" width="17px" /> streak till<span style="font-size:17px; font-weight: 700"> <%=targetdate%> </span> to get +<span style="font-size:17px; font-weight: 700;"><%=day%></span> <img src="../img/gem.svg" style="width: 17px;" />
  </div>
  <i class="fa fa-angle-up" id="Streakicons" onclick="CloseBox('.StreakBox','Streakicons','flex')" style="width: 40px;
height: 40px;border-radius: 40px;background: var(--surface-fourth, #EBEBEB);    display: flex;
align-items: center;
justify-content: center;"></i>
  </div>
  <div style="display: flex;
  align-items: center;
  gap: 10px;
  margin-left:-20px;
  justify-content: space-between;
  width: 105%;" class='StreakBox'>
    <i class="fa fa-angle-left" onclick="MoveWeekStreak(-1,'streak-count')"></i>
    <div id="streak-count" style="margin-top: 10px;width: 95%;">


    </div>
    <i class="fa fa-angle-right" onclick="MoveWeekStreak(1,'streak-count')"></i>
  </div>
  <div class='StreakBox' style="color: var(--brand-primary, #48BF84);
  cursor: pointer;
  font-size: 16px;
  font-style: normal;
  font-weight: 700;
  line-height: 24px; /* 150% */" data-target="#modal-monthly-overview" data-toggle="modal">Monthly Overview </div>

  </div>
  <div style="display: flex;
    padding: 32px;
    flex-direction: column;
    align-items: flex-start;
    gap: 20px;
   
    align-self: stretch;
    border-radius: 14px;
    border: 1px solid var(--stroke-primary, #ECECEC);
    background: var(--surface-primary, #FFF);
    ">
    <div style="display: flex;
    padding: 2px 0px;
    justify-content: space-between;
    align-items: center;
    align-self: stretch;">
      <div style="flex-direction: column;display: flex;gap:4px;">
        <div style="color: var(--content-on-light-primary, #181818);
    font-size: 20px;
    font-style: normal;
    font-weight: 700;
    line-height: normal;">Weekly Performance</div>
        <div style="display: flex;gap:4px;align-items: center;">
          <img src="../Performance dashboard Icons/signin.svg" style="display: flex;
          width: 20px;
          height: 20px;
          padding: 2.5px;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          gap: 2.5px;
          border-radius: 625px;
          background: var(--gray-500, #667085);">
          <div style="
    color: var(--gray-500, #667085);
    font-size: 14px;
    font-style: normal;
    font-weight: 700;
    line-height: 24px; /* 171.429% */">Logged In Today @<%=performanceRecord.submittedAt[0]%></div>
        </div>
      </div>
      <%
      function getpervday(date) {
         const currentDate = new Date(date);
         currentDate.setDate(currentDate.getDate() - 1);
   
         const year = currentDate.getFullYear();
         const month = String(currentDate.getMonth() + 1).padStart(2, '0');
         const day = String(currentDate.getDate()).padStart(2, '0');
   
         const previousDateString = `${year}-${month}-${day}`;
         return previousDateString;
      } %>
         <% let pervdaydate=getpervday(today.date)%>
   <div style="display: flex;gap:24px;align-items: center;">
   <div style="display: flex;
   align-items: center;
   gap: 8px;
   cursor: pointer;
   border-radius: var(--radius-medium, 8px);
   background: var(--gray-50, #F9FAFB);">
   <div style="display: flex;
   padding: 10px 14px;
   justify-content: center;
   align-items: center;
   gap: 8px;
   font-size: 16px;
   font-style: normal;
   font-weight: 600;
   line-height: 24px; 
   border-radius: 6px;" onclick="changeLocation('<%=today.date%>')" class="<%=selectedDate==today.date?'container_Style text-green':'normalText'%>">
   Today
   </div>
   <div style="display: flex;
   padding: 10px 14px;
   justify-content: center;
   align-items: center;
   gap: 8px;
   font-size: 16px;
   font-style: normal;
   font-weight: 600;
   line-height: 24px; 
   border-radius: 6px;
   border-radius: 6px;" onclick="changeLocation('<%=pervdaydate%>')" class="<%=selectedDate==pervdaydate?'container_Style text-green':'normalText'%>">
   Yesterday
   </div>
   </div>
      <input type="date" style="display: flex;
    padding: 10px 16px;
    justify-content: center;
    align-items: center;
    gap: 8px;
    border: 1px solid var(--gray-300, #D0D5DD);" class="container_Style" id="datePicker" onchange="changeLocation(event.target.value)">
</div>
    </div>
    <div style="display: flex;
    gap: 16px;
    justify-content: space-between;
    align-items: center;
    width: 100%;">
      <% let time=new Date()%>
      <% let TaskTitle=['Tasks for Today','Update on Tasks',"Today's Execution"];%>
      <% let TaskSubmissionStartTime=['',8,12,17]%>
      <% let TaskImages=[{submitted:'../Performance dashboard Icons/Weekly perfromance/Morning Loom - Submitted.svg',missed:'../Performance dashboard Icons/Weekly perfromance/Morning Loom - Not submitted.svg'}, {submitted:'https://dvfkpf9qxfl09.cloudfront.net/EmployeeProject/Noon Loom - submitted-b9867ed3-32ba-467d-8b7d-5b7967d658e1.svg xml',missed:'../Performance dashboard Icons/Weekly perfromance/Noon Loom - Not submitted.svg'},{submitted:' https://dvfkpf9qxfl09.cloudfront.net/EmployeeProject/EOD Loom - submitted-75ee716e-54e7-4f70-9dad-20cf497d9cec.svg xml',missed:'../Performance dashboard Icons/Weekly perfromance/EOD Loom - Not submitted.svg'}  ]%>
      <% for(let i=1; i<Math.min(4,dailyTaskList.length); i++) { %>
      <% let taskDeadline=new Date(performanceRecord.date) %>
      <% TaskSubmissionStartTime[i]=new Date(performanceRecord.date).setHours(TaskSubmissionStartTime[i]);%>
      <% taskDeadline=new Date(taskDeadline.getTime() + dailyTaskList[i].deadline) %>
      <% taskDeadline.setHours(taskDeadline.getHours()-5, taskDeadline.getMinutes()-30) %>
      <% let buttonClass='disableButton',TaskImage=TaskImages[i-1].missed,TaskImageClass='disableTaskImage',taskStatusText='Submit' %>
      
      <% if((TaskSubmissionStartTime[i]<=time && taskDeadline>=time) || performanceRecord.links[i].length>0) {%>
      <%  buttonClass='activeButton'%>
      <% TaskImage=TaskImages[i-1].submitted%>
      <% TaskImageClass='activeTaskImage'%>
      <% taskStatusText=performanceRecord.links[i].length>0?'Edit':'Submit';%>
      <%  }%>
      <% if(performanceRecord.rating>0 || performanceRecord.onLeave) {%>
      <% taskStatusText='';%>
      <%  buttonClass='disableButton'%>
      <%}%>
      <% let taskmodalname=i==3?'#tasksubmiteodmodal':'#tasksubmitmodal' %>
      
      <div style="display: flex;
    padding: 24px;
    flex-direction: column;
    justify-content: space-between;
    align-items: flex-start;
    gap:24px;
    flex: 1 0 0;
    align-self: stretch;
    border-radius: 12px;" class="container_Style">
    <div style="display: flex;align-items: flex-start;flex-direction: column;gap:24px;">
        <div style="display: flex;
    padding: 8px;
    align-items: flex-start;
    gap: 4px;
    border-radius: 28px;" class="TaskImageClass">
          <img src="<%=TaskImage%>">
        </div>
        <div style="display: flex;gap:4px;flex-direction: column;">
          <div style="color: var(--gray-900, #101828);
    font-size: 18px;
    font-style: normal;
    font-weight: 600;
    line-height: 28px; "><%=TaskTitle[i-1]%></div>
          <div style="color: var(--gray-600, #475467);
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 20px;"> <%= dailyTaskList[i].description %></div>
        </div>
      </div>
        <% if(performanceRecord.links[i].length > 0) {%>
        <div style="display: flex;
          justify-content: space-between;
          align-items: center;
          align-self: stretch;">
          <div style="display: flex;gap:4px;align-items: center;">
            <img src="../Performance dashboard Icons/Weekly perfromance/Loom Submited.svg">
            <div style="color: var(--gray-600, #475467);
          text-align: center;
          font-size: 14px;
          font-style: normal;
          font-weight: 500;
          line-height: 20px;
          letter-spacing: 0.1px;">Submitted</div>
          </div>
          <button class="<%=buttonClass%>" onclick="showtaskno('<%=i%>','<%=performanceRecord.links[i]%>')" data-toggle="modal" data-target="<%=taskmodalname%>" style="border: none;padding: 0px;"><%=taskStatusText%></button>
        </div>
        <%}else{%>
        <button class="<%=buttonClass%>" onclick="showtaskno('<%=i%>','<%=performanceRecord.links[i]%>')" data-toggle="modal" data-target="<%=taskmodalname%>"><%=taskStatusText%></button>
        <%}%>
      </div>
      <% } %>
      </div>
    </div>
    <% const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];%>
   
  </div>
  <div style="display: flex;flex-direction: column;gap:24px;flex-basis:min(100%,500px);margin-top: 40px;border-radius: var(--radius-medium, 8px);
       ">
    <div style="display: flex;
        padding: 16px;
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
        align-self: stretch;" class="container_Style">
      <div style="color: var(--content-on-light-primary, #181818);
      font-size: 20px;
      font-style: normal;
      font-weight: 700;
      line-height: normal;">Your Metrics - <%=months[currentmonth]%></div>
      <div style="display: flex;gap:16px;width: 100%;flex-wrap: wrap;">
        <div style="display: flex;
      padding: 24px 20px;
      flex-direction: column;
      align-items: flex-start;
      gap: 24px;
      flex: 1 0 0;
      border-radius: var(--radius-medium, 8px);

background: var(--White, #FFF);
/* Shadow/sm */
box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.06), 0px 1px 3px 0px rgba(16, 24, 40, 0.10);">
          <div style="display: flex;
flex-direction: column;
align-items: flex-start;
gap: 20px;
align-self: stretch;">
            <div style="flex: 1 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            color: var(--gray-900, #101828);
            font-size: 16px;
            font-style: normal;
            font-weight: 600;
            line-height: 24px; /* 150% */"> Badges  
             <div class="dropdown-menu"  aria-labelledby="dropdownMenuLink"style="
             color: var(--gray-700, #344054);
             font-size: 14px;
            flex-direction: column;
             font-style: normal;
             font-weight: 500;
             line-height: 20px;
             width: 150px;
             cursor: pointer;
             overflow: hidden;
             border-radius: var(--radius-medium, 8px);
             border: 1px solid var(--gray-300, #D0D5DD);
             background: var(--White, #FFF);
             margin-left:-170px
         ">
      <div style="display: flex; justify-content: center; align-items: center; height: 44px;" data-target="#BadgesLogs" data-toggle="modal">
          Badge Logs
      </div>
      <div style="display: flex; justify-content: center; align-items: center; border-top: 1px solid #D0D5DD; height: 44px;" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"  onclick="OpenCard('BadgesOverview')">
          Badge Overview
    
                    </div>

</div>

            
            <img src="../Performance dashboard Icons/three_dot.svg"class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false" id="dropdownMenuLink">

        </div>
        
        <div style="display: none;
        padding: 20px 16px;
        flex-direction: column;
        margin-top: 40px;
            right: 19.5%;
        align-items: flex-start;
        gap: 20px;
        position: absolute;
        z-index: 99;
        " class="container_Style" id="BadgesOverview" onclick="OpenCard('BadgesOverview')">
                      <div style="display: flex;
                align-items: center;
                gap: 20px;
                justify-content: space-between;
                flex: 1 0 0;">
                        <div style="display: flex;align-items: center;gap:20px">
                          <% if(avgpervbadges<=avgbadges){%>
                          <div style="display: flex;
                  width: 48px;
                  height: 48px;
                  padding: 12px;
                  justify-content: center;
                  align-items: center;
                  border-radius: 28px;
                  border: 8px solid var(--success-50, #ECFDF3);
                  background: var(--success-100, #D1FADF);">
                            <img src='../Performance dashboard Icons/increase.svg'>
                          </div>
                          <%}else{%>
                          <div style="display: flex;
                                  width: 48px;
                                  height: 48px;
                                  padding: 12px;
                                  justify-content: center;
                                  align-items: center;
                                  border-radius: 28px;
                  border: 8px solid var(--error-50, #FEF3F2);
                  background: var(--error-100, #FEE4E2);
                  ">
                            <img src='../Performance dashboard Icons/decrease.svg'>
                          </div>
        
                          <%}%>
                                <div style="color: var(--gray-900, #101828);
                font-size: 16px;
                font-style: normal;
                font-weight: 500;
                line-height: 24px; /* 150% */
                letter-spacing: 0.24px;">
                                  <%=avgpervbadges==0?'0':(100* Math.abs(avgbadges-avgpervbadges)/avgpervbadges).toFixed(1)%>% Badges <%=avgbadges-avgpervbadges>0?'Increased':'Decreased'%>
                        </div>
                      </div>
                      <div>
                        <img src="../Performance dashboard Icons/Cross_icons_faded.svg" style="width:24px">
                      </div>
                    </div>
                    <div style="display: flex;
        align-items: flex-end;
        gap: 4px;
        align-self: stretch;">
                      <img src="../img/gem.svg" style="width: 38px;height: 38px;">
                      <div style="color: var(--gray-900, #101828);
        font-size: 30px;
        font-style: normal;
        font-weight: 700;
        line-height: 38px; 
        "><%=Monthlybadges+earnedBadgesThisMonth%></div>
                      <div style="width: 91px;
        height: 22.203px;
        white-space: nowrap;
        color: var(--gray-500, #667085);
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: 18px;
        letter-spacing: 0.21px;">
                        + <%=user.recent.badges%> Yesterday</div>
                    </div>
                    <% avgbadges+=earnedBadgesThisWeek%>
<% avgpervbadges+=earnedBadgesLastWeek%>
                    <div style="display: flex;gap:4px;align-items: center;">
                      <img src="<%=(avgpervbadges-avgbadges)<=0?'../Performance dashboard Icons/increase_arrow.svg':'../Performance dashboard Icons/decrease_arrow.svg'%>">
                      <% let color = (avgpervbadges - avgbadges) <= 0 ? '#48BF84' : '#F44336'; %>
                      <div style="
                  text-align: center;
                  font-size: 14px;
                  font-style: normal;
                  font-weight: 500;
                  line-height: 20px;
                  color: <%= color %>;
                "><%= Math.abs(avgbadges - avgpervbadges).toFixed(1) %></div>
        
                      <div style="width: 260px;
        color: var(--gray-500, #667085);
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: 20px; /* 142.857% */
        letter-spacing: 0.21px;">
                        Vs last week</div>
                    </div>
        
                    <div style="display: flex;flex-direction: column;gap:4px;width: 100%;">
                      <div style="display: flex;align-items: center;justify-content: space-between;width: 100%;">
        
                        <div style="color: var(--gray-700, #344054);
                  font-size: 14px;
                  font-style: normal;
                  font-weight: 600;
                  line-height: 20px; /* 142.857% */
        ">Current Badges</div>
                        <div style="display: flex;align-items: center;gap:4px;">
                          <img src="../img/gem.svg" style="width: 24px;height: 24px;">
                          <div style="color: var(--gray-700, #344054);
        text-align: center;
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: normal;"><%=user.badges- user.usedBadges%></div>
                        </div>
        
                      </div>
                      <div style="display: flex;align-items: center;justify-content: space-between;width: 100%;">
        
                        <div style="color: var(--gray-700, #344054);
                  font-size: 14px;
                  font-style: normal;
                  font-weight: 600;
                  line-height: 20px; /* 142.857% */
        ">Total Earned</div>
                        <div style="display: flex;align-items: center;gap:4px;">
                          <img src="../img/gem.svg" style="width: 24px;height: 24px;">
                          <div style="color: var(--gray-700, #344054);
        text-align: center;
        font-size: 14px;
        font-style: normal;
        font-weight: 500;
        line-height: normal;"><%=user.badges%></div>
                        </div>
        
                      </div>
                    </div>
        
                  </div>
        
       
           
         
                            <div style="display: flex;
                            flex-direction: column;
                            align-items: flex-start;
                            gap: 12px;">
                                  <div style="display: flex;
                          gap:8px;">
                                    <img src="../img/gem.svg" style="width: 32px;">
                                    <div style="color: var(--gray-800, #1D2939);
                          font-size: 30px;
                          font-style: normal;
                          font-weight: 700;
                          line-height: 38px; /* 126.667% */">
                          <%=Monthlybadges+earnedBadgesThisMonth%> 
                          <!-- <span style="color: var(--gray-400, #98A2B3);">/50</span>   -->
                          </div>
                                  </div>
                                  <div style="color: var(--gray-500, #667085);
                          font-size: 12px;
                          font-style: normal;
                          font-weight: 500;
                          white-space: nowrap;
                          line-height: 20px; /* 166.6">+ <%=user.recent.badges%> Yesterday</div>
                                </div>
         
         
         
         <div style="display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;">
            <div style="color: var(--gray-600, #475467);
font-size: 14px;
font-style: normal;
font-weight: 500;
line-height: 20px; /* 142.857% */">Total</div>
            <div style="display: flex;gap:4px;align-items: center;"><img src="../img/gem.svg" style="width: 32px;"><span style="color: var(--gray-600, #475467);
  text-align: center;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: normal;"><%=user.badges%></span></div>
          </div>


        </div>
      </div>
      <div style="display: flex;
      padding: 24px 20px;
      flex-direction: column;
      align-items: flex-start;
      gap: 24px;
      flex: 1 0 0;
      border-radius: var(--radius-medium, 8px);

background: var(--White, #FFF);
/* Shadow/sm */
box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.06), 0px 1px 3px 0px rgba(16, 24, 40, 0.10);">
        <div style="display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 20px;
    align-self: stretch;">
          <div style="display: flex;justify-content: space-between;" >
            <div style="flex: 1 0 0;
  color: var(--gray-900, #101828);
  font-size: 16px;
  font-style: normal;
  cursor: pointer;
  font-weight: 600;
  line-height: 24px; /* 150% */" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> <%=months[currentmonth].length>5?months[currentmonth].substr(0,3):months[currentmonth]%> Avg. Rating 
   <div class="dropdown-menu" 
   style="
   padding: 20px 16px;
   flex-direction: column;
   align-items: flex-start;
   gap: 20px;

   position: absolute;
   z-index: 99;
   margin-left: -158px;
   "  class="container_Style">
    <div style="display: flex;
    align-items: center;
    gap: 20px;
    justify-content: space-between;
    flex: 1 0 0;">
    <div style="display: flex;align-items: center;gap:20px">
   <% if(avgpervrating<=avgrating){%>
   <div style="display: flex;
 width: 48px;
 height: 48px;
 padding: 12px;
 justify-content: center;
 align-items: center;
 border-radius: 28px;
 border: 8px solid var(--success-50, #ECFDF3);
 background: var(--success-100, #D1FADF);">
     <img src='../Performance dashboard Icons/increase.svg'>
   </div>
   <%}else{%>
   <div style="display: flex;
       width: 48px;
       height: 48px;
       padding: 12px;
       justify-content: center;
       align-items: center;
       border-radius: 28px;
 border: 8px solid var(--error-50, #FEF3F2);
 background: var(--error-100, #FEE4E2);
 ">
     <img src='../Performance dashboard Icons/decrease.svg'>
   </div>
 
   <%}%>
     <div style="color: var(--gray-900, #101828);
 font-size: 16px;
 font-style: normal;
 font-weight: 500;
 line-height: 24px; /* 150% */
 letter-spacing: 0.24px;">
       <%=avgpervrating==0?'100%':(100* Math.abs(avgpervrating-avgrating)/avgpervrating).toFixed(1)%> % Rating <%=(avgpervrating-avgrating)>0?'Decreased':'Increased'%>
 </div>
 </div>
 <div >
   <img src="../Performance dashboard Icons/Cross_icons_faded.svg" style="width:24px" ></div>
 </div>
 <div style="display: flex;
 align-items: flex-end;
 gap: 4px;
 align-self: stretch;">
   <img src="../img/filled-star.svg" style="width: 38px;height: 38px;">
   <div style="color: var(--gray-900, #101828);
 font-size: 30px;
 font-style: normal;
 font-weight: 700;
 line-height: 38px; /* 126.667% */
 "><%=avgMonthlyrating%></div>
   <div style="width: 91px;
 height: 22.203px;
 color: var(--gray-500, #667085);
 font-size: 14px;
 font-style: normal;
 font-weight: 500;
 white-space: nowrap;
 line-height: 18px; /* 128.571% */
 letter-spacing: 0.21px;">
     <%=user.recent.rating%> Yesterday</div>
 </div>
 <div style="display: flex;gap:4px;align-items: center;">
   <img src="<%=(avgpervrating-avgrating)<=0?'../Performance dashboard Icons/increase_arrow.svg':'../Performance dashboard Icons/decrease_arrow.svg'%>">
   <%  color = (avgpervrating-avgrating) <= 0 ? '#48BF84' : '#F44336'; %>
       <div style="
         text-align: center;
         font-size: 14px;
         font-style: normal;
         font-weight: 500;
         line-height: 20px;
         color: <%= color %>;
       "><%= Math.abs(avgpervrating-avgrating).toFixed(1) %></div>
   <div style="width: 260px;
 color: var(--gray-500, #667085);
 font-size: 14px;
 font-style: normal;
 font-weight: 500;
 line-height: 20px; /* 142.857% */
 letter-spacing: 0.21px;">
     Vs last week</div>
 </div>
           </div>
  <img src="../Performance dashboard Icons/down chevron.svg" >
  
        </div> 
       
        </div>
         
        </div>
  
      <div style="display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;">
        <div style="display: flex;
gap:8px;">
          <img src="../img/filled-star.svg" style="width: 32px;">
          <div style="color: var(--gray-800, #1D2939);
font-size: 30px;
font-style: normal;
font-weight: 700;
line-height: 38px; /* 126.667% */"><%=avgMonthlyrating%></div>
        </div>
        <div style="color: var(--gray-500, #667085);
font-size: 12px;
font-style: normal;
white-space: nowrap;
font-weight: 500;
line-height: 20px; /* 166.6"><%=user.recent.rating%> Yesterday</div>
      </div>
      <div style="display: flex;
justify-content: space-between;
align-items: center;
align-self: stretch;">
        <div style="color: var(--gray-600, #475467);
font-size: 14px;
font-style: normal;
font-weight: 500;
line-height: 20px; /* 142.857% */">Average rating </div>
        <div style="display: flex;gap:4px;color: var(--gray-600, #475467);
text-align: center;
font-size: 14px;
font-style: normal;
font-weight: 500;
line-height: normal;">
          <img src="../img/filled-star.svg" style="width: 16px;
  height: 19px;">
          <% if(user.rating.cnt===0) { %>
          0.0
          <% } else { %>
          <%= Math.round((user.rating.value/user.rating.cnt)*100)/100 %>
          <% } %>
        </div>
      </div>

    </div>
  </div>
  </div>
  <div style="display: flex;
padding: 24px;
flex-direction: column;
gap: 2rem;
align-self: stretch;
font-size: 14px;
" class="container_Style">
    <div style="display: flex;gap:4px;align-items: center;width: 100%;">
      <div style="flex: 1 0 0;
color: var(--gray-900, #101828);
font-size: 20px;
font-style: normal;
font-weight: 700;
line-height: normal;">Your's Performance Score </div>
      <div style="display: none;
position: absolute;
align-items: center;
z-index: 90;
transition: all 1s ease 0.5s;
margin-right:74px;
flex: 1 0 0;
" class="PerformanceScoreDetails">
        <div style="display: flex;
 padding: 12px;
 flex-direction: column;
 align-items: flex-start;
 gap: 12px;
 flex: 1 0 0;
 border-radius: var(--radius-medium, 8px);
 background: var(--gray-900, #101828)">
          <div style="display: flex;
 flex-direction: column;
 align-items: flex-start;
 gap: 6px;
 align-self: stretch;">
            <div style="align-self: stretch;
color: var(--White, #FFF);

font-size: 14px;
font-style: normal;
font-weight: 600;
line-height: 18px; /* 128.571% */
">
              Performance Score Details
            </div>
            <div style="align-self: stretch;
color: var(--White, #FFF);

font-size: 14px;
font-style: normal;
font-weight: 400;
line-height: 18px; /* 128.571% */
letter-spacing: 0.14px;
">
              Your score is based on task quality, speed, ratings, task badges, monthly ratings, LOOM badges, leaves taken, and daily LOOM updates. Keep excelling to boost your score!
            </div>
          </div>
          <div style="display: flex;align-items:center;justify-content: space-between;
width: 100%;">
            <div>
              <div style="align-self: stretch;
color: var(--White, #FFF);

font-size: 14px;
font-style: normal;
font-weight: 700;
line-height: 18px; /* 128.571% */">
                Top Performer
              </div>
              <div style="align-self: stretch;
color: var(--White, #FFF);

font-size: 12px;
font-style: normal;
font-weight: 400;
line-height: 18px; /* 150% */
" id="TopPerformerName">
                
              </div>
            </div>
            <div style="color: var(--White, #FFF);

font-size: 14px;
font-style: normal;
font-weight: 700;
line-height: 18px; /* 128.571% */
" id="TopPerformerScore"></div>
          </div>
          <div style="display: flex;align-items: center;justify-content: space-between;
width: 100%;">
            <div style="align-self: stretch;
color: var(--White, #FFF);

font-size: 14px;
font-style: normal;
font-weight: 700;
line-height: 18px; /* 128.571% */
">Expected performance</div>
            <div style="color: var(--White, #FFF);

font-size: 14px;
font-style: normal;
font-weight: 700;
line-height: 18px; /* 128.571% */
">90</div>
          </div>
        </div>
        <img src="../Performance dashboard Icons/Tooltip.svg" style="margin-left: -2px;">
      </div>
      <img src="../Performance dashboard Icons/alert.svg" onmouseover="showIcons('.PerformanceScoreDetails')" onmouseleave="removeIcons('.PerformanceScoreDetails')">
    </div>
    <!-- onmouseover="SetHoverState(); showIcons('.onhover'); removeIcons('.offhover');"
    onmouseleave="removeIcons('.onhover'); showIcons('.offhover');" -->
    <!-- onmouseover="removeIcons('.PIndicator');showIcons('.PIndicatorHover');"
    onmouseleave="showIcons('.PIndicator');removeIcons('.PIndicatorHover');"  -->
    <div
    id="points-progress"
    class="semicircle"
  
  >   <svg width="100%" height="100%" viewBox="-5 -5 110 63" xmlns="http://www.w3.org/2000/svg" class="PIndicator">
        <path id="placeholder"  class="offhover"d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#eeeeee" stroke-width="10" stroke-linecap="round" fill-opacity="0"></path>
         <path id="sports"  class="offhover" d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#113D6B" stroke-linecap="round" stroke-width="10" fill-opacity="0"></path>
           </svg>
           <!-- <svg width="100%" height="100%" viewBox="-5 -5 110 63" xmlns="http://www.w3.org/2000/svg" class="PIndicatorHover">
            <path id="placeholder" class="offhover" d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#eeeeee" stroke-width="10" stroke-linecap="round" fill-opacity="0"></path>
            <path id="color1" class="onhover" d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#48BF84" stroke-linecap="round" stroke-width="10" fill-opacity="0"></path>
            <path id="color2" class="onhover" d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#2E90FA" stroke-linecap="round" stroke-width="10" fill-opacity="0"></path>
            <path id="color3" class="onhover" d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#FDB022" stroke-linecap="round" stroke-width="10" fill-opacity="0"></path>
            <path id="color4" class="onhover" d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#D92D20" stroke-linecap="round" stroke-width="10" fill-opacity="0"></path>
        </svg> -->
        
       <div style="margin-top: 80px;position:absolute;display: flex;flex-direction: column;align-items: center;justify-content: center;">
        <div style="color: var(--Gray-500, #667085);
        text-align: center;
        font-size: 14px;
        font-style: normal;
        font-weight: 600;
        line-height: 20px; /* 142.857% */
        ">Performance Score</div>
        <div id="performanceScoreText" style="color: var(--Gray-900, #101828);
        text-align: center;
        font-size: 48px;
        font-style: normal;
        font-weight: 600;
        line-height: 60px; /* 125% */
        letter-spacing: -0.96px;
        "></div>

       </div>
      </div>

    <div style="    text-align: center;
    color: #48BF84;
    font-size: 16px;
    display: flex;
    justify-content: center;
    gap: 8px;
    align-items: center;"> View Breakdown  <i class="fa fa-angle-down "  style="font-size: 24px;"id="viewBreakDownIcon" onclick="CloseBox('.performanceBox','viewBreakDownIcon','flex')"></i></div>

    <div style="width: 100%; flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 24px; display: none" class="performanceBox">
      <div style="align-self: stretch; padding-top: 12px; padding-bottom: 12px; justify-content: center; align-items: flex-start; gap: 32px; display: inline-flex">
        <div style="flex: 1 1 0; flex-direction: column; justify-content: center; align-items: center; gap: 8px; display: inline-flex">
          <div class="progresscircle-bar" style="width: 64px; height: 64px; position: relative;background: radial-gradient(closest-side, white 79%, transparent 80% 100%), conic-gradient(#48bf84 calc(<%=avgQuality%> * 10%), #F2F4F7 0); animation: html-progresscircle 2s 1 forwards;" >
            <div style="top: 22px;left:26px; position: absolute; text-align: center; color: #344054; font-size: 16px;  font-weight: 600; line-height: 20px; word-wrap: break-word"><%=avgQuality%></div>
            <progress id="progresstask" min="0" max="10" value="<%=avgQuality%>"></progress>
        </div>
          
          <div style="text-align: center; color: #667085; font-size: 12px;  font-weight: 500; line-height: 18px; word-wrap: break-word">Average Quality score</div>
        </div>
        <div style="flex: 1 1 0; flex-direction: column; justify-content: center; align-items: center; gap: 8px; display: inline-flex">
          <div class="progresscircle-bar" style="width: 64px; height: 64px; position: relative;background: radial-gradient(closest-side, white 79%, transparent 80% 100%), conic-gradient(#48bf84 calc(<%=avgSpeed%> * 10%), #F2F4F7 0); animation: html-progresscircle 2s 1 forwards;" >
            <div style="top: 22px;left:26px; position: absolute; text-align: center; color: #344054; font-size: 16px;  font-weight: 600; line-height: 20px; word-wrap: break-word"><%=avgSpeed%></div>
            <progress id="progresstask" min="0" max="10" value="<%=avgSpeed%>"></progress>
        </div>
          <div style="text-align: center; color: #667085; font-size: 12px;  font-weight: 500; line-height: 18px; word-wrap: break-word">Average Speed score</div>
        </div>
      </div>
      <div style="align-self: stretch;flex-direction: column; justify-content: flex-start; align-items: center; gap: 24px; display: flex">
        <!-- <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
          <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Average Tasks rating</div>
          <div style="justify-content: center; align-items: center; gap: 4px; display: flex">
              <img src="../img/filled-star.svg" style="width: 24px; height: 24px;" />
            <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word">4.2</div>
          </div>
        </div> -->
        <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
          <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Total Badges earned for tasks</div>
          <div style="justify-content: flex-start; align-items: flex-start; gap: 4px; display: flex">
            <div style="width: 24px; height: 24px; justify-content: center; align-items: center; display: flex">
              <div style="flex: 1 1 0; align-self: stretch;  padding-left: 3.91px; padding-right: 3.89px; justify-content: center; align-items: center; display: inline-flex">
                <img src="../img/gem.svg" style="width: 21px; height: 21px;">
              </div>
            </div>
            <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=earnedBadgesThisMonth%></div>
          </div>
        </div>
        <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
          <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Average monthly rating</div>
          <div style="justify-content: center; align-items: center; gap: 4px; display: flex">
            <img src="../img/filled-star.svg" style="width: 24px; height: 24px;" />
            <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=avgMonthlyrating%></div>
          </div>
        </div>
        <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
          <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Total Badges earned for Looms</div>
          <div style="justify-content: flex-start; align-items: flex-start; gap: 4px; display: flex">
            <div style="width: 24px; height: 24px; justify-content: center; align-items: center; display: flex">
              <div style="flex: 1 1 0; align-self: stretch; padding-top: 3.91px; padding-bottom: 3.89px; padding-left: 3.91px; padding-right: 3.89px; justify-content: center; align-items: center; display: inline-flex">
                <img src="../img/gem.svg" style="width: 21px; height: 21px;">
              </div>
            </div>
            <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=Monthlybadges%></div>
          </div>
        </div>
        <div style="align-self: stretch; justify-content: flex-start; align-items: center; gap: 4px; display: inline-flex">
          <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Leaves Taken</div>
          <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=leavesTaken%></div>
        </div>
        <div style="align-self: stretch; justify-content: flex-start; align-items: center; gap: 4px; display: inline-flex">
          <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Looms missed</div>
          <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=loomsMissed%></div>
        </div>
        <div style="align-self: stretch; justify-content: flex-start; align-items: center; gap: 4px; display: inline-flex">
          <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Performance Level</div>
          <div style="justify-content: flex-start; align-items: center; gap: 4px; display: flex" id="PerformanceLevel">
                   
                   
                    
                
          </div>
        </div>
      </div>
    </div>

    <div style="display: flex;
    justify-content: space-between;
    align-items: flex-start;
    align-self: stretch;
    color: var(--Gray-700, #344054);
    text-align: center;
    
    font-size: 14px;
    font-style: normal;
    font-weight: 600;
    line-height: 20px;
    ">
      <div style="display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;"
      >
      <span style="color: var(--Error-500, #EF4444); background: var(--Error-50, #FEF3F2); padding: 2px 8px 2px 6px; border-radius: 16px;">
        <svg xmlns="http://www.w3.org/2000/svg" width="8" height="9" viewBox="0 0 8 9" fill="none"><circle cx="4" cy="4.1582" r="3" fill="var(--Error-500, #EF4444)" /></svg> Poor    </span>
  
      <div>
        0-50
      </div>
      </div>
      <div style="display: flex;
       flex-direction: column;
       align-items: center;
       gap: 4px;"
       >
       <span style="color: var(--Warning-500, #FDB022); background: var(--Warning-50, #FFFAEB); padding: 2px 8px 2px 6px; border-radius: 16px;">
         <svg xmlns="http://www.w3.org/2000/svg" width="9" height="8" viewBox="0 0 9 8" fill="none"><circle cx="4.33203" cy="4" r="3" fill="#FDB022"/></svg> Fair
            </span>
       <div>
         51-80
       </div>
       </div>
       <div style="display: flex;
       flex-direction: column;
       align-items: center;
       gap: 4px;"
       >
       <span style="color: #2E90FA; background: var(--Blue-50, #EFF8FF); padding: 2px 8px 2px 6px; border-radius: 16px;">
         <svg xmlns="http://www.w3.org/2000/svg" width="9" height="8" viewBox="0 0 9 8" fill="none"><circle cx="4.66797" cy="4" r="3" fill="#2E90FA"/></svg> Great
           </span>
       <div>
         81-90
       </div>
       <div style="color: var(--Gray-600, #475467);
       text-align: center;
       
       font-size: 12px;
       font-style: normal;
       font-weight: 500;
       line-height: 20px;">
         Expected
       </div>
       </div>
       <div style="display: flex;
       flex-direction: column;
       align-items: center;
       gap: 4px;
       "
       
       >
      
       
      <span style="color: #48bf84; background: var(--Success-50, #ECFDF3); padding: 2px 8px 2px 6px; border-radius: 16px;">
       <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none"><circle cx="4" cy="4" r="3" fill="#48BF84"/></svg> Superb
   </span>
       <div>
         91-100
       </div>
       </div>
    </div>
    <div id="NudegFeedbackBody" style="display: flex;flex-direction:column ;gap:12px;">
   
  </div>

    

<div data-target="#modal-view-performance" data-toggle="modal" style="display: flex;
justify-content: flex-end;
padding-top:16px;
border-top:1px solid #EAECF0;
align-items: center;
gap: 16px;
cursor: pointer;
color: #48bf84;
align-self: stretch;
      font-size: 16px;
      font-style: normal;
      font-weight: 500;
      line-height: 24px;
"  onclick="PerformanceViewStreakModal('PerformanceReportStreakBody')">View Performance report</div>
  </div>
  <a href="/rewards/<%=employee._id%>" style="display: flex;
padding: 20px 24px;
justify-content: center;
align-items: center;
gap: 16px;
align-self: stretch;
border-radius: var(--radius-medium, 8px);" class="container_Style">
    <div style="display: flex;
flex-direction: column;
justify-content: space-between;
align-items: flex-start;
flex: 1 0 0;
gap:10px;
align-self: stretch;">
      <div style="color: var(--gray-900, #101828);
font-size: 16px;
font-style: normal;
font-weight: 600;
line-height: 24px; /* 150% */">Next reward</div>
      <div style="display: flex;gap:4px;align-items: center;">
        <img src="../img/gem.svg" style="width: 28.5px;
  height: 28.5px;
  flex-shrink: 0;">
        <div style="color: var(--gray-900, #101828);
font-size: 22px;
font-style: normal;
font-weight: 700;
line-height: 28.5px; /* 129.545% */"><%=user.badges-user.usedBadges%>/<%=rewards[0][2]%></div>
      </div>
      <div style="flex: 1 0 0;
color: var(--gray-500, #667085);
font-size: 14px;
font-style: normal;
font-weight: 500;
line-height: 20px; /* 142.857% */
letter-spacing: 0.21px;
"><%=rewards[0][0]%></div>
      <div style="color: var(--brand-primary, #48BF84);
font-size: 16px;
font-style: normal;
font-weight: 700;
line-height: 24px; /* 150% */">View All Rewards</div>
    </div>
    <div style="display: flex;
padding: 8px;
flex-direction: column;
justify-content: center;
align-items: flex-start;
gap: 16px;
border-radius: var(--radius-medium, 8px);
background: radial-gradient(295.3% 157.83% at 100% 102.56%, #1AF287 0%, #FFF 100%);">
      <img src="<%=rewards[0][3]%>" style="width: 132.466px;
height: 132.466px;
border-radius: 8px;
">
    </div>
  </a>
  <% if (bonusInfo) { %>
  <div style="display: flex;
  padding: 1.5rem;
  flex-direction: column;
  gap: 16px;
  align-self: stretch;" class="container_Style">
  <div style="flex: 1 0 0;
    color: var(--gray-900, #101828);
    font-size: 20px;
    font-style: normal;
    font-weight: 700;
    line-height: normal;">Joining and Retention Bonuses
  </div>
  <div 
  style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 24px;
  align-self: stretch;"
  >


    <div style="display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    gap: 12px;
    align-self: stretch;"
    >
      <div style="color: var(--gray-700, #344054);
      font-family: Manrope;
      font-size: 16px;
      font-style: normal;
      font-weight: 600;
      line-height: 24px; /* 150% */"
      > 
      Total Bonus Amount
    </div>
    <div style="display: flex;
    justify-content: center;
    align-items: flex-end;
    gap: 12px;">
    <div style="color: var(--gray-700, #344054);
    font-family: Manrope;
    font-size: 30px;
    font-style: normal;
    font-weight: 700;
    line-height: 38px; /* 126.667% */">
    <%= totalBonusAmount %>
  </div>
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 24px; /* 171.429% */">
  (available after <%= bonusInfo?.vestingPeriod %> yr)
  </div>
  </div>
  </div>


    <div style="display: flex;
    justify-content: space-between;
    align-items: center;
    align-self: stretch;">
    <div style="color: var(--gray-500, #667085);
    font-family: Manrope;
    font-size: 16px;
    font-style: normal;
    font-weight: 600;
    line-height: 24px;">Current Bonus Balance
    </div>
  <div style="color: var(--gray-700, #344054);
  font-family: Manrope;
  font-size: 16px;
  font-style: normal;
  font-weight: 700;
  line-height: 24px; /* 150% */">
  <%= currBonusValue %>
  </div>

  </div>
<% if (isMonthPassed > 0) { %>
<div style="display: flex;align-items: center;gap:8px">

<div style="display: flex;
width: 24px;
height: 24px;
padding: 6px;
justify-content: center;
align-items: center;
border-radius: 14px;
border: 4px solid var(--success-50, #ECFDF3);
background: var(--success-100, #D1FADF);">
  <img src='../Performance dashboard Icons/increase.svg' style="width: 12px;
  height: 12px;">
</div>
<div style="color: var(--gray-500, #667085);
font-family: Manrope;
font-size: 16px;
font-style: normal;
font-weight: 600;
line-height: 24px; /* 150% */">
<%= lastMonthBonus%> last month
</div>
</div>
<% } %>
</div>

<div style="display: flex;
padding: 4px 0px;
flex-direction: column;
align-items: flex-start;
gap: 4px;
align-self: stretch;">
  <div class="progressTask" style="width: 100%;">
    <div class="progress__fill" style="width: <%= bonusPercentageTime %>%;" ></div>
  </div>
  <div style="display: flex;
    justify-content: space-between;
    align-items: center;
    align-self: stretch;color: var(--gray-500, #667085);
  font-size: 14px;
  width: 100%;
  font-style: normal;
  font-weight: 500;
  line-height: 24px;">
  <span >
  M0  
  </span>  
  <% let monthNo=1%>
    <% for(let monthInfo of bonusInfo.monthlyDistribution||[]) {%>
     <% for(let i=monthNo;i<=monthInfo.monthNo-1;i++){%>
      <span style="visibility: hidden;">M<%= i %></span>
      <%}%>
      <span >M<%= monthInfo.monthNo %></span>
      <% monthNo=monthInfo.monthNo+1%>
      <%}%>
      <% for(let i=monthNo;i<=12;i++){%>
        <span style="visibility: hidden;">M<%= i %></span>
        <%}%>
  <% if(bonusInfo?.vestingPeriod > 1) { %>
    <div style="color: var(--gray-500, #667085);
    
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 24px; /* 171.429% */">
    2Y  
    </div>
  <% } %>
  </div>



</div>

<div style="display: flex;
border-top: 1px solid #EAECF0;
justify-content: flex-end;
align-items: center;
gap: 16px;
padding-top:16px ;
align-self: stretch;">
    <a  href='/bonus/'style="color: var(--brand-primary, #48BF84);
      font-family: Manrope;
      font-size: 14px;
      font-style: normal;
      font-weight: 600;
      line-height: 20px; /* 142.857% */">View Bonuses</a>
  </div>

</div>
<% } %>

<% if (esopInfo) { %>
  <div style="display: flex;
  padding: 24px;
  flex-direction: column;
  gap: 24px;
  align-self: stretch;" class="container_Style">
  <div style="flex: 1 0 0;
  color: var(--gray-900, #101828);
  font-size: 20px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;"> ESOPs</div>
  <div style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 20px;
  align-self: stretch;">
  <div style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 8px;
  align-self: stretch;">

  <div style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 12px;
  align-self: stretch;">
  <div style="color: var(--gray-700, #344054);
  font-family: Manrope;
  font-size: 16px;
  font-style: normal;
  font-weight: 600;
  line-height: 24px; /* 150% */">
  Total Units Granted
  </div>
  <div style="display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 12px;">
  <div style="color: var(--gray-700, #344054);
  font-family: Manrope;
  font-size: 30px;
  font-style: normal;
  font-weight: 700;
  line-height: 38px; /* 126.667% */">
 <%= esopInfo.units %> units
  </div>
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 24px; /* 171.429% */">
  (over <%= esopInfo?.vestingPeriod %> years)
  </div>
  </div>
  </div>
  <div style="display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;">
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */">
  Current Value  
  </div>
  <div style="color: var(--gray-700, #344054);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 700;
  line-height: 24px; /* 171.429% */">
  <%= currTotalValue %>
  </div>
  </div>
  </div>
  <div style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  align-self: stretch;">
  <div style="display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;">
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */">
  Total ESOPs Currently Held
  </div>
  <div style="color: var(--gray-700, #344054);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 600;
  line-height: 24px; /* 171.429% */">
  <%= unitsAlloted %> units
  </div>
  </div>
  <div style="display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: -7px;
  align-self: stretch;">
  <div style="display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;">
  <div style="color: var(--gray-700, #344054);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 600;
  line-height: 24px; /* 171.429% */">
    Current value of ESOPs Held 
  </div>
  <div style="color: var(--gray-700, #344054);
  font-family: Manrope;
  font-size: 16px;
  font-style: normal;
  font-weight: 700;
  line-height: 38px; /* 237.5% */">
  
  <%if (unitsAlloted > 0) {%>
    <%= currValue %>
    <%} else { %>
    -
    <% } %>
  </div>
  
  </div>
  <div style="color: var(--gray-500, #667085);
  text-align: right;
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */
  letter-spacing: 0.21px;
  margin-left: auto;">
  <%= unitValue %>/unit   <!-- TODO: -->
</div>
</div>
  </div>

  <div style="display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  width: 100%;">

  <div style="display: flex;align-items: center;justify-content: space-between;width: 100%;">
  </div>

  <div style="display: flex;
  padding: 4px 0px;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
  align-self: stretch;">

  <div class="progressTask" style="width: 100%;">
  <div class="progress__fill" style="width: <%=esopsPercentageTime%>%;"></div>
  </div>
  <div style="display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;">
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */">

  </div>  
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */">
  1Y
  </div>  
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */">
  2Y  
  </div>  
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */">
  3Y  
  </div>  
  <div style="color: var(--gray-500, #667085);
  font-family: Manrope;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 24px; /* 171.429% */">
  4Y  
  </div>  
  </div>
  </div>
  </div>
  </div>
  <div style="display: flex;
  border-top: 1px solid #EAECF0;
  justify-content: flex-end;
  align-items: center;
  gap: 16px;
  padding-top:1rem ;
  align-self: stretch;">
  <a  href='/bonus/'style="color: var(--brand-primary, #48BF84);
    font-family: Manrope;
    font-size: 14px;
    font-style: normal;
    font-weight: 600;
    line-height: 20px; /* 142.857% */">View ESOPs</a>
  </div>
  </div>
  <% } %>
  <% if (!bonusInfo && !esopInfo) { %>
    <div style="background: white; border-radius: 8px; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: inline-flex" class="container_Style">
      <div style="align-self: stretch; padding: 24px; flex-direction: column; justify-content: center; align-items: flex-start; display: flex">
        <div style="align-self: stretch; flex: 1 1 0; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: flex">
          <div style="align-self: stretch; color: #181818; font-size: 20px; font-family: Manrope; font-weight: 700; word-wrap: break-word">ESOPs and Bonuses</div>
          <div style="align-self: stretch; flex: 1 1 0; flex-direction: column; justify-content: center; align-items: center; gap: 8px; display: flex; margin-block: 3rem;">
            <img style="margin-bottom: 0.5rem; height: 45px; width: 45px;" src="../img/icons/lock.svg">
            <div style="align-self: stretch; height: 87px; flex-direction: column; justify-content: center; align-items: center; gap: 8px; display: flex">
              <div style="align-self: stretch; text-align: center; color: #101828; font-size: 16px; font-family: Manrope; font-weight: 700; line-height: 22px; word-wrap: break-word">Full-Time Perks</div>
              <div style="align-self: stretch; text-align: center"><span style="color: #667085; font-size: 14px; font-family: Manrope; font-weight: 500; line-height: 18.90px; letter-spacing: 0.14px; word-wrap: break-word">Exclusive benefits for full-time employees only. <br>
                Discover the advantages of ESOPs and Bonuses by clicking on </span><span style="color: #667085; font-size: 14px; font-family: Manrope; font-weight: 700; line-height: 18.90px; letter-spacing: 0.14px; word-wrap: break-word">View ESOPs and Bonuses</span><span style="color: #667085; font-size: 14px; font-family: Manrope; font-weight: 500; line-height: 18.90px; letter-spacing: 0.14px; word-wrap: break-word"></span></div>
            </div>
          </div>
        </div>
      </div>
      <div style="align-self: stretch; height: 53px; flex-direction: column; justify-content: flex-start; align-items: center; display: flex">
        <div style="align-self: stretch; height: 1px; background: #EAECF0"></div>
        <div style="align-self: stretch; padding-left: 24px; padding-right: 24px; padding-top: 16px; padding-bottom: 16px; justify-content: flex-end; align-items: center; gap: 16px; display: inline-flex">
          <div style="justify-content: flex-start; align-items: flex-start; display: flex">
            <a href="/bonus" style="color: #48BF84; font-size: 14px; font-family: Manrope; font-weight: 600; line-height: 20px; word-wrap: break-word">View ESOPs and Bonuses</a>
          </div>
        </div>
      </div>
    </div>
  <% } %>
  </div>
  </div>


  <% if (showpopup ) { %>
  <div data-toggle='modal' id="PervDayRatingModal" data-target='#RatingInfoModal' style="width:0.1px;"></div>
  <script>
     function getpervday(date) {
      const currentDate = new Date(date);
      currentDate.setDate(currentDate.getDate() - 1);

      const year = currentDate.getFullYear();
      const month = String(currentDate.getMonth() + 1).padStart(2, '0');
      const day = String(currentDate.getDate()).padStart(2, '0');

      const previousDateString = `${year}-${month}-${day}`;
      return previousDateString;
    }
    let pervdaybutton = document.getElementById('PervDayRatingModal');
    pervdaybutton.click();
    const pervdate = getpervday('<%= currentday.date %>');
    getPerformanceByDate(pervdate)
  </script>
  <% } %>


  </div>

  
  <!--  Show RoadMap levels modal-->

  <div class="modal fade" id="ShowRoadmap" tabindex="-1" role="dialog" aria-labelledby="modal-change-username" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
      <div class="modal-content model-xl">
        <div class="modal-header" style="display: flex;width: 100%;justify-content: space-between;align-items: center;">
          <div style="color: var(--content-on-light-primary, #181818);
            display: flex;
            gap:10px;align-items: center;
          
            font-size: 18px;
            font-style: normal;
            font-weight: 700;
            line-height: normal;">
            <div class="layer"> <img src="../Performance dashboard Icons/Levels UI/View Roadmap.svg" style="width: 22.66px;
                        height: 20.416px;
                        flex-shrink: 0;" />
            </div>
            RoadMap
          </div>
          <img src="../img/icons performance mgmt/desktop/close_40x40.svg" data-dismiss="modal">
        </div>
        <div class="modal-body">
          <div class="div-3" style="height: 150px;">
            <div class="overlap" style="height: 140px;">
              <% for(let i=0; i<levels.length; i++) { %>

              <% if(levels[i].state<=1) { %>
              <% if(levels[i].state==1){%>
              <% let percbadges =(((user.badges - levels[i-1]?.badges) / (levels[i ].badges - levels[i-1]?.badges)) * 100).toFixed(2); %>
              <div class="current-greenLine" style="width:<%=percbadges*1.5%>px"></div>
              <div class="div-5">
                <div class="heading" style="width: 30px;font-size: 16px;font-weight: 500;"><%=percbadges +'%'%></div>
                <img style="margin-top: -7px;width: 35px;" src="../Performance dashboard Icons/Levels UI/Your progress- Runner.svg" />
              </div>
              <div class="current-rule" style="width:<%=(100-percbadges) *1.5%>px"></div>
              <%}%>
                  <div class="element" style="padding: 0px;gap:0px;">
                    <div style="height: 20px;"></div>
                    <img src="../Performance dashboard Icons/Levels UI/Your progress- Locked level.svg" />
                    <div class="level">
                      <div class="div-4">
                        <img class="gem" src="../img/gem.svg" />
                        <div class="text-wrapper-4" style="font-size: 11.077px;
                        font-style: normal;
                        font-weight: 600;"><%=levels[i].badges%>
            </div>
          </div>
          <div class="button" data-target="#levelModal-<%= i %>" data-toggle="modal">
            <div class="text-wrapper-5">LEVEL <%=i+1%></div>
          </div>
        </div>
      </div>
      <% if(i<levels.length-1) {%>
      <div class="dotted-rule"></div>
      <%}%>
            <%} else{%>
      <% if(i>0) {%>
      <div class="greenLine"></div>
      <%}%>
              <div class="element" style="padding: 0px;gap:0px;">
                <div style="height: 20px;"></div>
                <img src="https://dvfkpf9qxfl09.cloudfront.net/EmployeeProject/Your%20progress%20-%20Completed%20Level-805a5563-3bb4-43ec-916c-4f2fcf6f9d75.svg%20xml" />
                <div class="level">
                  <div class="div-4">
                    <img class="gem" src="../img/gem.svg" />
                    <div class="text-wrapper-4" style="font-size: 11.077px;
                    font-style: normal;
                    font-weight: 600;"><%=levels[i].badges%>
    </div>
  </div>
  <div class="button" data-target="#levelModal-<%= i %>" data-toggle="modal">
    <div class="text-wrapper-5">LEVEL <%=i+1%></div>
  </div>
  </div>
  </div>
  <%}%>
    
  <%}%>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <% for(let i=0; i<levels.length; i++) { %>

  <div class="modal fade" id="levelModal-<%= i %>" tabindex="-1" role="dialog" aria-labelledby="levelModal-<%= i %>Label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="levelModal-<%= i %>Label">LEVEL <%= i+1 %></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="card bg-gradient-info px-4 py-5">
            <div class="card-body">
              <h5 class="h4 text-white"><%= levels[i].title %></h5>
              <p class="mt-4 mb-0 text-white">
                <%= levels[i].description %>
              </p>
            </div>
          </div>
        </div>
  
      </div>
    </div>
    </div>

    <%}%>
     <!--  View Performance Details-->

   <div class="modal fade" id="modal-view-performance" tabindex="-1" role="dialog" aria-labelledby="modal-view-performance" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
      <div class="modal-content model-xl" style="max-height: 90vh;
      overflow: auto;">
        <div class="modal-header text-16-700" style="display: flex;width: 100%;justify-content: space-between;align-items: center;flex-direction: row;">
            Performance Insights - <%=months[currentmonth]%>
          <img src="../img/icons performance mgmt/desktop/close_40x40.svg" data-dismiss="modal">
        </div>
        <div class="modal-body">
     <div style="display: flex;gap:10px;flex-wrap: wrap;">
      <div style="display: flex;
      padding: 24px;
      flex-direction: column;
      gap: 2rem;
      align-self: stretch;
      font-size: 14px;
      width:min(400px,100%);
      " class="container_Style">
          <div style="display: flex;gap:4px;align-items: center;width: 100%;">
            <div style="flex: 1 0 0;
      color: var(--gray-900, #101828);
      font-size: 20px;
      font-style: normal;
      font-weight: 700;
      line-height: normal;"><%=user.firstName%>'s Performance Score </div>
               </div>
          <!-- onmouseover="SetHoverState(); showIcons('.onhover'); removeIcons('.offhover');"
          onmouseleave="removeIcons('.onhover'); showIcons('.offhover');" -->
          <div
          id="points-progress"
          class="semicircle"
         
        >   <svg width="100%" height="100%" viewBox="-5 -5 110 63" xmlns="http://www.w3.org/2000/svg" class="PIndicator">
              <path id="placeholder"  class="offhover"d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#eeeeee" stroke-width="10" stroke-linecap="round" fill-opacity="0"></path>
               <path id="sportsm"  class="offhover" d="M 50,50 m -47,0 a 47,47 0 1 1 94,0" stroke="#113D6B" stroke-linecap="round" stroke-width="10" fill-opacity="0"></path>
              
                </svg>
             <div style="margin-top: 80px;position:absolute;display: flex;flex-direction: column;align-items: center;justify-content: center;">
              <div style="color: var(--Gray-500, #667085);
              text-align: center;
              font-size: 14px;
              font-style: normal;
              font-weight: 600;
              line-height: 20px; /* 142.857% */
              ">Performance Score</div>
              <div id="performanceScoreTextm" style="color: var(--Gray-900, #101828);
              text-align: center;
              font-size: 48px;
              font-style: normal;
              font-weight: 600;
              line-height: 60px; /* 125% */
              letter-spacing: -0.96px;
              "></div>
      
             </div>
            </div>
      
            <div style="width: 100%; flex-direction: column; justify-content: flex-start; align-items: flex-start; gap: 24px; display: flex" class="performanceBox">
            <div style="align-self: stretch; padding-top: 12px; padding-bottom: 12px; justify-content: center; align-items: flex-start; gap: 32px; display: inline-flex">
              <div style="flex: 1 1 0; flex-direction: column; justify-content: center; align-items: center; gap: 8px; display: inline-flex">
                <div class="progresscircle-bar" style="width: 64px; height: 64px; position: relative;background: radial-gradient(closest-side, white 79%, transparent 80% 100%), conic-gradient(#48bf84 calc(<%=avgQuality%> * 10%), #F2F4F7 0); animation: html-progresscircle 2s 1 forwards;" >
                  <div style="top: 22px;left:26px; position: absolute; text-align: center; color: #344054; font-size: 16px;  font-weight: 600; line-height: 20px; word-wrap: break-word"><%=avgQuality%></div>
                  <progress id="progresstask" min="0" max="10" value="<%=avgQuality%>"></progress>
              </div>
                
                <div style="text-align: center; color: #667085; font-size: 12px;  font-weight: 500; line-height: 18px; word-wrap: break-word">Average Quality score</div>
              </div>
              <div style="flex: 1 1 0; flex-direction: column; justify-content: center; align-items: center; gap: 8px; display: inline-flex">
                <div class="progresscircle-bar" style="width: 64px; height: 64px; position: relative;background: radial-gradient(closest-side, white 79%, transparent 80% 100%), conic-gradient(#48bf84 calc(<%=avgSpeed%> * 10%), #F2F4F7 0); animation: html-progresscircle 2s 1 forwards;" >
                  <div style="top: 22px;left:26px; position: absolute; text-align: center; color: #344054; font-size: 16px;  font-weight: 600; line-height: 20px; word-wrap: break-word"><%=avgSpeed%></div>
                  <progress id="progresstask" min="0" max="10" value="<%=avgSpeed%>"></progress>
              </div>
                <div style="text-align: center; color: #667085; font-size: 12px;  font-weight: 500; line-height: 18px; word-wrap: break-word">Average Speed score</div>
              </div>
            </div>
            <div style="align-self: stretch;flex-direction: column; justify-content: flex-start; align-items: center; gap: 24px; display: flex">
              <!-- <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
                <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Average Tasks rating</div>
                <div style="justify-content: center; align-items: center; gap: 4px; display: flex">
                    <img src="../img/filled-star.svg" style="width: 24px; height: 24px;" />
                  <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word">4.2</div>
                </div>
              </div> -->
              <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
                <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Total Badges earned for tasks</div>
                <div style="justify-content: flex-start; align-items: flex-start; gap: 4px; display: flex">
                  <div style="width: 24px; height: 24px; justify-content: center; align-items: center; display: flex">
                    <div style="flex: 1 1 0; align-self: stretch;  padding-left: 3.91px; padding-right: 3.89px; justify-content: center; align-items: center; display: inline-flex">
                      <img src="../img/gem.svg" style="width: 21px; height: 21px;">
                    </div>
                  </div>
                  <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=earnedBadgesThisMonth%></div>
                </div>
              </div>
              <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
                <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Average monthly rating</div>
                <div style="justify-content: center; align-items: center; gap: 4px; display: flex">
                  <img src="../img/filled-star.svg" style="width: 24px; height: 24px;" />
                  <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=avgMonthlyrating%></div>
                </div>
              </div>
              <div style="align-self: stretch; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex">
                <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Total Badges earned for Looms</div>
                <div style="justify-content: flex-start; align-items: flex-start; gap: 4px; display: flex">
                  <div style="width: 24px; height: 24px; justify-content: center; align-items: center; display: flex">
                    <div style="flex: 1 1 0; align-self: stretch; padding-top: 3.91px; padding-bottom: 3.89px; padding-left: 3.91px; padding-right: 3.89px; justify-content: center; align-items: center; display: inline-flex">
                      <img src="../img/gem.svg" style="width: 21px; height: 21px;">
                    </div>
                  </div>
                  <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=Monthlybadges%></div>
                </div>
              </div>
              <div style="align-self: stretch; justify-content: flex-start; align-items: center; gap: 4px; display: inline-flex">
                <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Leaves Taken</div>
                <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=leavesTaken%></div>
              </div>
              <div style="align-self: stretch; justify-content: flex-start; align-items: center; gap: 4px; display: inline-flex">
                <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Looms missed</div>
                <div style="text-align: center; color: #181818; font-size: 16px;  font-weight: 600; line-height: 20.80px; word-wrap: break-word"><%=loomsMissed%></div>
              </div>
              <div style="align-self: stretch; justify-content: flex-start; align-items: center; gap: 4px; display: inline-flex">
                <div style="flex: 1 1 0; color: #282B28; font-size: 16px;  font-weight: 400; line-height: 20.80px; word-wrap: break-word">Performance Level</div>
                <div style="justify-content: flex-start; align-items: center; gap: 4px; display: flex" id="PerformanceLevelm">
                   
                   
                    
                
                </div>
              </div>
            </div>
          </div>
      
          <div style="display: flex;
          justify-content: space-between;
          align-items: flex-start;
          align-self: stretch;
          color: var(--Gray-700, #344054);
          text-align: center;
          
          font-size: 14px;
          font-style: normal;
          font-weight: 600;
          line-height: 20px;
          ">
            <div style="display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;"
            >
            <span style="color: var(--Error-500, #EF4444); background: var(--Error-50, #FEF3F2); padding: 2px 8px 2px 6px; border-radius: 16px;">
              <svg xmlns="http://www.w3.org/2000/svg" width="8" height="9" viewBox="0 0 8 9" fill="none"><circle cx="4" cy="4.1582" r="3" fill="var(--Error-500, #EF4444)" /></svg> Poor    </span>
        
            <div>
              0-50
            </div>
            </div>
            <div style="display: flex;
             flex-direction: column;
             align-items: center;
             gap: 4px;"
             >
             <span style="color: var(--Warning-500, #FDB022); background: var(--Warning-50, #FFFAEB); padding: 2px 8px 2px 6px; border-radius: 16px;">
               <svg xmlns="http://www.w3.org/2000/svg" width="9" height="8" viewBox="0 0 9 8" fill="none"><circle cx="4.33203" cy="4" r="3" fill="#FDB022"/></svg> Fair
                  </span>
             <div>
               51-80
             </div>
             </div>
             <div style="display: flex;
             flex-direction: column;
             align-items: center;
             gap: 4px;"
             >
             <span style="color: #2E90FA; background: var(--Blue-50, #EFF8FF); padding: 2px 8px 2px 6px; border-radius: 16px;">
               <svg xmlns="http://www.w3.org/2000/svg" width="9" height="8" viewBox="0 0 9 8" fill="none"><circle cx="4.66797" cy="4" r="3" fill="#2E90FA"/></svg> Great
                 </span>
             <div>
               81-90
             </div>
             <div style="color: var(--Gray-600, #475467);
             text-align: center;
             
             font-size: 12px;
             font-style: normal;
             font-weight: 500;
             line-height: 20px;">
               Expected
             </div>
             </div>
             <div style="display: flex;
             flex-direction: column;
             align-items: center;
             gap: 4px;
             "
             
             >
            
             
            <span style="color: #48bf84; background: var(--Success-50, #ECFDF3); padding: 2px 8px 2px 6px; border-radius: 16px;">
             <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none"><circle cx="4" cy="4" r="3" fill="#48BF84"/></svg> Superb
         </span>
             <div>
               91-100
             </div>
             </div>
          </div>
          <div id="NudegFeedbackBodym" style="display: flex;flex-direction:column ;gap:12px;">
         
        </div>
      
       
      
        </div>
        
        <div style="display: flex;flex-direction: column;gap:32px;flex:1">
          <div class="frameGraph">
            <div class="heading-wrapper ">
              <div class="heading">Performance comparisions</div>
            </div>
            <div class="group">
              <div class="overlap">
                <div class="div" style="width: 100%;" id="SetGraphm">
                 
                </div>
              </div>
              <div class="navbar">
                <div class="text-wrapper-2">0</div>
                <div class="text-wrapper-2">10</div>
                <div class="text-wrapper-2">20</div>
                <div class="text-wrapper-2">30</div>
                <div class="text-wrapper-2">40</div>
                <div class="text-wrapper-2">50</div>
                <div class="text-wrapper-2">60</div>
                <div class="text-wrapper-2">70</div>
                <div class="text-wrapper-2">80</div>
                <div class="text-wrapper-2">90</div>
                <div class="text-wrapper-2">100</div>
              </div>
            </div>
          </div>
          <div class="frameGraph">
            <div class="modal-heading">Monthly Overview</div>
            <div class="streak-count"style="margin-top:20px;
           gap: 12px 0px;
           align-self: stretch;
           flex-wrap: wrap;" id="PerformanceReportStreakBody">
   
               </div>
          </div>
        </div>
    </div>
  </div>

  </div>
  </div>
  </div>
 <!-- Add Link -->
 <div class="modal fade docs-example-modal-lg" tabindex="-1" role="dialog" id="AddLink" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content" >
      <div class="modal-header" style="display: flex;width: 100%;justify-content: space-between;align-items: center;">
        <div style="color: var(--gray-900, #101828);
font-size: 24pxpx;
font-style: normal;
font-weight: 700;
line-height: normal;">Add Link</div>
        <img src="../img/icons performance mgmt/desktop/close_40x40.svg" data-dismiss="modal">
      </div>
      <div class="modal-body" style="display: inline-flex;
      padding-top: 24px;
      flex-direction: column;
      align-items: flex-start;
      gap: 22px;
      border-radius: 12px;">
        <div style="display: flex;
       width: 100%;
       align-items: center;
       gap: 22px;">
          <div style="color: var(--content-on-light-primary, #181818);
       width: 100px;
       font-size: 16px;
       font-style: normal;
       font-weight: 600;
       line-height: normal;" >Link Title</div>
          <input type="text" id="link-title" placeholder="Design_draft1" style="width:100%;padding:10px;margin:15px 0px;border-radius: var(--radius-medium, 8px);
          border: 1px solid var(--stroke-secondary, #DCDCDC);
          background: var(--surface-primary, #FFF);" onchange="ChangeLinkContent('title',event.target.value)">
        </div>
        <div style="display: flex;
width: 100%;
align-items: center;
gap: 22px;">
          <div style="color: var(--content-on-light-primary, #181818);
width: 100px;
font-size: 16px;
font-style: normal;
font-weight: 600;
line-height: normal;">Link </div>
          <input type="link" id="link-link" placeholder="www.figma.com/file/4E5bk36Ib1giid=4861%3A134681&m"style="width:100%;padding:10px;margin:15px 0px;border-radius: var(--radius-medium, 8px);
          border: 1px solid var(--stroke-secondary, #DCDCDC);
          background: var(--surface-primary, #FFF);" onchange="ChangeLinkContent('url',event.target.value)" required>
        </div>
      </div>
      <div class="modal-footer" style="padding:0.5rem">

        <button type="button" style="display: flex;
        height: 48px;
        padding: 8px 16px;
        align-items: center;
        gap: 8px;
        border-radius: 12px;" class="btn btn-outline-primary" data-dismiss="modal">
          Cancel
        </button>

        <button type="button"  data-dismiss="modal" class="btn btn-primary"  style="display: flex;
        height: 48px;
        padding: 8px 16px;
        align-items: center;
        gap: 8px;
        border-radius: 12px;" onclick="AddLink()" id="AddLinkButton" disabled>
          Add
        </button>
      </div>
    </div>
  </div>
</div>
  <!-- Badges Logs Modal -->
  <% function ChangeDate(date) {
    const options = { day: "numeric", month: "long", year: "numeric" };
    const formattedDate = new Date(date).toLocaleDateString(undefined, options);
    return formattedDate;
  } %>
  <div class="modal fade docs-example-modal-lg" tabindex="-1" role="dialog" id="BadgesLogs" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="width: 100vw;">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content" style="max-height: 70vh;overflow: auto;">
        <div class="modal-header" style="display: flex;width: 100%;justify-content: space-between;align-items: center;">
          <div style="color: var(--gray-900, #101828);
font-size: 24px;
font-style: normal;
font-weight: 700;
line-height: normal;">Badge Log</div>
          <img src="../img/icons performance mgmt/desktop/close_40x40.svg" data-dismiss="modal">
        </div>

        <div class="modal-body" style="background-color: #FAFAFA;padding: 0;max-height: 80vh;overflow: auto;">
      
          <table style="width: 100%;">
            <tr style="background: var(--gray-100, #F2F4F7);color: var(--gray-600, #475467);
            font-size: 12px;
            font-style: normal;
            font-weight: 500;
            line-height: 18px; /* 150% */;">
              <th style="width: 45%;">Source</th>
              <th style="width: 25%;">Badges</th>
              <th style="width: 30%;">Allotment date</th>
            </tr>

            <% for(badgelog of badgeslogs){%>
            <tr style="
  background: #FFF;border-bottom: 1px solid var(--gray-300, #D0D5DD);
">
              <td style="width: 45%;display: flex;
              height: 72px;
              padding: 16px 24px;
              align-items: center;
              align-self: stretch;
              ">
                <div style="display: flex;
flex-direction: column;
align-items: flex-start;
align-self: stretch;">
                  <div style="color: var(--gray-900, #101828);
font-size: 16px;
font-style: normal;
font-weight: 500;
line-height: 18px; /* 112.5% */"><%=badgelog.title%></div>
                  <div style="color: var(--gray-500, #667085);
font-size: 14px;
font-style: normal;
font-weight: 400;
line-height: 20px; /* 142.857% */"><%=badgelog.description.length>0?badgelog.description:ChangeDate(badgelog.date)%></div>
                </div>
              </td>
              <td style="display: flex;
              height: 72px;
              width: 25%;
              padding: 16px 24px;
              align-items: center;
              align-self: stretch;
              color: var(--content-on-light-primary, #181818);
    font-size: 16px;
    font-style: normal;
    font-weight: 600;
    line-height: 16px; /* 100% */"><%=badgelog.badges%> <img src='../img/gem.svg' style="width: 24px;height: 24px;"></td>
              <td style="display: flex;
              height: 72px;
              width: 30%;
              padding: 16px 24px;
              align-items: center;
              align-self: stretch;
              color: var(--gray-500, #667085);
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 20px; /* 142.857% */"><%=ChangeDate(badgelog.allotedDate)%></td>

            </tr>
            <%}%>

          </table>
        </div>

      </div>
    </div>
  </div>
  <!-- Modal -->
  <div class="modal fade" id="deleteTask" tabindex="-1" role="dialog" aria-labelledby="deleteTaskLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="deleteTaskLabel">Delete Task</h5>
        </div>
        <div class="modal-body">
          Warning: This will delete the Task and the changes are irrecoverable
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn " style="background:#FF6565;color:white;font-weight:500">Delete</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Large modal -->

  <div class="modal fade docs-example-modal-lg" tabindex="-1" role="dialog" id="tasksubmitmodal" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content" style="background-color: #FAFAFA;">

        <div style="margin:30px 50px -20px 30px;display: flex;justify-content: space-between;">
          <h2 class="modal-title h6 b-700" id="myLargeModalLabel">Video Link*</h2>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true" style="font-size: 35px;
          color: black;
          font-weight: 700;">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div style="color: var(--gray-700, #344054);
          font-size: 18px;
          font-style: normal;
          font-weight: 700;
          line-height: normal;">
            <svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 100 100" id="video">
              <path d="M84.9 26.4L68 37.3V34c0-4.4-3.6-8-8-8H20c-4.4 0-8 3.6-8 8v32c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-3.3l16.9 10.9c1.9 1 3.1-.7 3.1-1.7V28c0-1-1.1-2.8-3.1-1.6zM64 66c0 2.2-1.8 4-4 4H20c-2.2 0-4-1.8-4-4V34c0-2.2 1.8-4 4-4h40c2.2 0 4 1.8 4 4v32zm20 2.3L68 58V42l16-10.3v36.6z">
              </path>
              <path fill="#48bf84" d="M1224-650v1684H-560V-650h1784m8-8H-568v1700h1800V-658z"></path>
            </svg>
            Record your Tasks video and submit it.
          </div>
          <div style="margin-top:10px">
            <svg xmlns="http://www.w3.org/2000/svg" width="34.13px" height="23.9px" viewBox="5.368 13.434 53.9 37.855" id="youtube">
              <path fill="#FFF" d="M41.272 31.81c-4.942-2.641-9.674-5.069-14.511-7.604v15.165c5.09-2.767 10.455-5.301 14.532-7.561h-.021z">
              </path>
              <path fill="FF0000" d="M41.272 31.81c-4.942-2.641-14.511-7.604-14.511-7.604l12.758 8.575c.001 0-2.324 1.289 1.753-.971z">
              </path>
              <path fill="#CD201F" d="M27.691 51.242c-10.265-.189-13.771-.359-15.926-.803-1.458-.295-2.725-.95-3.654-1.9-.718-.719-1.289-1.816-1.732-3.338-.38-1.268-.528-2.323-.739-4.9-.323-5.816-.4-10.571 0-15.884.33-2.934.49-6.417 2.682-8.449 1.035-.951 2.239-1.563 3.591-1.816 2.112-.401 11.11-.718 20.425-.718 9.294 0 18.312.317 20.426.718 1.689.317 3.273 1.267 4.203 2.492 2 3.146 2.035 7.058 2.238 10.118.084 1.458.084 9.737 0 11.195-.316 4.836-.57 6.547-1.288 8.321-.444 1.12-.823 1.711-1.479 2.366a7.085 7.085 0 0 1-3.76 1.922c-8.883.668-16.426.813-24.987.676zM41.294 31.81c-4.942-2.641-9.674-5.09-14.511-7.625v15.166c5.09-2.767 10.456-5.302 14.532-7.562l-.021.021z">
              </path>
            </svg>
            <span style="color:#48bf84">Record & Upload on Youtube as unlisted </span><a href="http://www.youtube.com" target="_blank"><img src="../img/icons/arrow_outward.png" /></a>
          </div>
          <div>
            <div class="container" id="Youtubetutorial" style='display: none;'>
              <div class="row">
                <div class="col">
                  <p style="font-weight: 700;font-size: 14px;margin-bottom: 0px;margin-top:4px">Recording:</p>
                  <div style="display:flex">
                    <img src="../img/icons/vector.svg" style="width:12px ;height:12px ;margin-top:5px;margin-right:8px;" />
                    <span>Mac:<span style="font-weight: 700;font-size: 14px;">Cmd+ Shift+ 5</span></span>
                  </div>
                  <div style="display:flex">
                    <img src="../img/icons/Vector.png" style="width:12px ;height:12px;margin-top:5px ;margin-right:8px;" />
                    <span> Windows:<span style="font-weight: 700;font-size: 14px;">Windows btn + G</span></span>
                  </div>
                </div>
                <div class="col-7">
                  <p style="font-weight: 700;font-size: 14px;margin-bottom: 0px;margin-top:4px">Uploading:</p>
                  <div style="display:flex">
                    <img src="../img/icons/image 476.svg" style="width: 57.27px;
                height: 21.66px;margin-top:5px;margin-left:4px;">
                    <p style="font-size: 14px;margin-bottom: 0px;margin-top:4px ">Click Create on top right</p></span>
                  </div>
                  <div>
                    <p style="font-size: 14px;margin-bottom: 0px;margin-top:4px">Follow the steps on youtube to upload</p>
                    <div style="display:flex">
                      <img src="../img/icons/image 477.png" style="width: 57.27px;
                height: 21.66px;margin-top:5px;margin-left:4px;">
                      <span>
                        <p style="font-size: 14px;margin-bottom: 0px;margin-top:4px">In Visibility tab select unlisted and
                          copy link</p>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="color: var(--brand-primary, #48BF84);
            font-size: 16px;
            font-style: normal;
            font-weight: 600;
            margin-top:5px;
            display: flex;
            align-items: center;gap:5px;
            line-height: normal;" id="TutorialButton" onclick="ChangeVisbility('Youtubetutorial','TutorialButton')">See
              Tutorial <i class="fa fa-angle-down " style="font-size: 24px;"></i></div>
            <div style="display: flex;
        justify-content: center;
        align-items: center;">
              <h6>OR</h6>
            </div>
            <div>
              <div style="display:flex"><img src="../img/icons/loom_icon.png" style="margin:8px;width:25px" />
                <h4 style="font-weight: 700; margin-top:5px">loom</h4><a style="margin-top:8px;margin-left:5px" href="http://loom.com" target="_blank">Use loom <img src="../img/icons/arrow_outward.png" /></a>
              </div>

            </div>
            <div class="input-group">
              <input type="text" style="display: flex;
              height: 48px;
              padding: 14px 20px;
              align-items: center;
              gap: 10px;
              width:93%;
              align-self: stretch;
              border-radius: 12px;
              border: 1px solid #ECECEC;
              background: #FFF;" id="linkSubmit" oninput="ChangeButtonState('submitlinkbutton',event)" placeholder="Paste your YouTube or Loom video link here..">
              <div class="input-group-append">
                <span class="input-group-text" onclick="ClearValue('linkSubmit')" style="font-size: 15px;
            font-weight: 600;
            border:none;
            background-color: transparent;
            color: black">X</span>
              </div>
            </div>

          </div>
        </div>
        <div class="modal-footer" style="padding:0.5rem">

          <button type="button" style="display: flex;
          padding: 16px 40px;
          justify-content: center;
          align-items: center;
          gap: 10px;
          width:150px;
          border-radius: 12px;" class="btn btn-outline-primary" data-dismiss="modal">
            Cancel
          </button>

          <button type="button" id="submitlinkbutton" onclick="SubmitTaskLink()" data-dismiss="modal" class="btn btn-primary" disabled style="display: flex;
          padding: 16px 40px;
          justify-content: center;
          align-items: center;
          gap: 10px;
          width:150px;
          border-radius: 12px;">
            Submit
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Loom Submission  for eod modal -->

  <div class="modal fade docs-example-modal-lg" tabindex="-1" role="dialog" id="tasksubmiteodmodal" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header" style="display: flex;width: 100%;justify-content: space-between;align-items: center;">
          <div style="color: var(--gray-900, #101828);
  font-size: 24px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;">EOD Update Submission</div>
          <img src="../img/icons performance mgmt/desktop/close_40x40.svg" data-dismiss="modal">
        </div>

        <div class="modal-body" style="background-color: #FAFAFA;">
          <div style="color: var(--gray-700, #344054);
          font-size: 18px;
          font-style: normal;
          font-weight: 700;
          line-height: normal;">
            <svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 100 100" id="video">
              <path d="M84.9 26.4L68 37.3V34c0-4.4-3.6-8-8-8H20c-4.4 0-8 3.6-8 8v32c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-3.3l16.9 10.9c1.9 1 3.1-.7 3.1-1.7V28c0-1-1.1-2.8-3.1-1.6zM64 66c0 2.2-1.8 4-4 4H20c-2.2 0-4-1.8-4-4V34c0-2.2 1.8-4 4-4h40c2.2 0 4 1.8 4 4v32zm20 2.3L68 58V42l16-10.3v36.6z">
              </path>
              <path fill="#48bf84" d="M1224-650v1684H-560V-650h1784m8-8H-568v1700h1800V-658z"></path>
            </svg>
            Record your Tasks video and submit it.
          </div>
          <div style="margin-top:10px">
            <svg xmlns="http://www.w3.org/2000/svg" width="34.13px" height="23.9px" viewBox="5.368 13.434 53.9 37.855" id="youtube">
              <path fill="#FFF" d="M41.272 31.81c-4.942-2.641-9.674-5.069-14.511-7.604v15.165c5.09-2.767 10.455-5.301 14.532-7.561h-.021z">
              </path>
              <path fill="FF0000" d="M41.272 31.81c-4.942-2.641-14.511-7.604-14.511-7.604l12.758 8.575c.001 0-2.324 1.289 1.753-.971z">
              </path>
              <path fill="#CD201F" d="M27.691 51.242c-10.265-.189-13.771-.359-15.926-.803-1.458-.295-2.725-.95-3.654-1.9-.718-.719-1.289-1.816-1.732-3.338-.38-1.268-.528-2.323-.739-4.9-.323-5.816-.4-10.571 0-15.884.33-2.934.49-6.417 2.682-8.449 1.035-.951 2.239-1.563 3.591-1.816 2.112-.401 11.11-.718 20.425-.718 9.294 0 18.312.317 20.426.718 1.689.317 3.273 1.267 4.203 2.492 2 3.146 2.035 7.058 2.238 10.118.084 1.458.084 9.737 0 11.195-.316 4.836-.57 6.547-1.288 8.321-.444 1.12-.823 1.711-1.479 2.366a7.085 7.085 0 0 1-3.76 1.922c-8.883.668-16.426.813-24.987.676zM41.294 31.81c-4.942-2.641-9.674-5.09-14.511-7.625v15.166c5.09-2.767 10.456-5.302 14.532-7.562l-.021.021z">
              </path>
            </svg>
            <span style="color:#48bf84">Record & Upload on Youtube as unlisted </span><a href="http://www.youtube.com" target="_blank"><img src="../img/icons/arrow_outward.png" /></a>
          </div>
          <div>
            <div class="container" id="Youtubetutorialeod" style='display: none;'>
              <div class="row">
                <div class="col">
                  <p style="font-weight: 700;font-size: 14px;margin-bottom: 0px;margin-top:4px">Recording:</p>
                  <div style="display:flex">
                    <img src="../img/icons/vector.svg" style="width:12px ;height:12px ;margin-top:5px;margin-right:8px;" />
                    <span>Mac:<span style="font-weight: 700;font-size: 14px;">Cmd+ Shift+ 5</span></span>
                  </div>
                  <div style="display:flex">
                    <img src="../img/icons/Vector.png" style="width:12px ;height:12px;margin-top:5px ;margin-right:8px;" />
                    <span> Windows:<span style="font-weight: 700;font-size: 14px;">Windows btn + G</span></span>
                  </div>
                </div>
                <div class="col-7">
                  <p style="font-weight: 700;font-size: 14px;margin-bottom: 0px;margin-top:4px">Uploading:</p>
                  <div style="display:flex">
                    <img src="../img/icons/image 476.svg" style="width: 57.27px;
                height: 21.66px;margin-top:5px;margin-left:4px;">
                    <p style="font-size: 14px;margin-bottom: 0px;margin-top:4px ">Click Create on top right</p></span>
                  </div>
                  <div>
                    <p style="font-size: 14px;margin-bottom: 0px;margin-top:4px">Follow the steps on youtube to upload</p>
                    <div style="display:flex">
                      <img src="../img/icons/image 477.png" style="width: 57.27px;
                height: 21.66px;margin-top:5px;margin-left:4px;">
                      <span>
                        <p style="font-size: 14px;margin-bottom: 0px;margin-top:4px">In Visibility tab select unlisted and
                          copy link</p>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div style="color: var(--brand-primary, #48BF84);
            font-size: 16px;
            font-style: normal;
            font-weight: 600;
            margin-top:5px;
            display: flex;
            align-items: center;gap:5px;
            line-height: normal;" id="TutorialButtoneod" onclick="ChangeVisbility('Youtubetutorialeod','TutorialButtoneod')">See Tutorial <i class="fa fa-angle-down " style="font-size: 24px;"></i></div>
            <div style="display: flex;
        justify-content: center;
        align-items: center;">
              <h6>OR</h6>
            </div>
            <div>
              <div style="display:flex"><img src="../img/icons/loom_icon.png" style="margin:8px;width:25px" />
                <h4 style="font-weight: 700; margin-top:5px">loom</h4><a style="margin-top:8px;margin-left:5px" href="http://loom.com" target="_blank">Use loom <img src="../img/icons/arrow_outward.png" /></a>
              </div>

            </div>
            <div class="input-group" style="margin-top: 10px;">
              <input type="text" id="eodlinkinput" style="display: flex;
              height: 48px;
              padding: 14px 20px;
              align-items: center;
              gap: 10px;
              width:93%;
              align-self: stretch;
              border-radius: 12px;
              border: 1px solid #ECECEC;
              background: #FFF;" id="linkSubmiteod" oninput="ChangeVisbilityEodButton('submiteodbutton','eodlinkinput')" placeholder="Paste your YouTube or Loom video link here..">
              <div class="input-group-append">
                <span class="input-group-text" onclick="ClearValue('linkSubmiteod')" style="font-size: 15px;
            font-weight: 600;
            border:none;
            background-color: transparent;
            color: black">X</span>
              </div>
            </div>

          </div>
          <div style="display: flex;
          flex-direction: column;
          align-items: flex-start;
          gap: 20px;
          margin-top:10px;
          align-self: stretch;">
            <div style="color: var(--gray-800, #1D2939);
          font-size: 14px;
          font-style: normal;
          font-weight: 600;
          line-height: normal;">Summarize Today's Tasks in Key Points <span style="color: var(--error-500, #F04438);">*</span><span style="color: var(--gray-500, #667085);">(min
                3)</span></div>
            <div style="width:100%;display: flex;flex-direction: column;gap:10px;align-items: flex-start;color:black" id="KeyPointBody">
              <div style="display: flex;align-items: center;gap:4px;width:100%">
                <div id="keypointno1">1.</div>
                <div style="width:100%;    display: flex;
            align-items: center;
            gap: 10px;" onmouseover="showIcons('.keypoint1')" onmouseout="removeIcons('.keypoint1')">
                  <input style="display: flex;
    height: 48px;
    padding: 14px 20px;
    align-items: center;
    gap: 10px;
    flex: 1 0 0;
    border-radius: 12px;
    border: 1px solid #ECECEC;
    background: #FFF;" placeholder="E.g., Resolved XYZ issue" oninput="ChangeKeyPoint(1,event)">
                  <img style="display: none;" src="../Project icons/Delete.svg" id="keypoint1" class="keypoint1" onclick="DeleteKeyPoint(1)">
                </div>
              </div>
              <div style="display: flex;align-items: center;gap:4px;width:100%">
                <div id="keypointno2">2.</div>
                <div style="width:100%;display: flex;
            align-items: center;
            gap: 10px;" onmouseover="showIcons('.keypoint2')" onmouseout="removeIcons('.keypoint2')">
                  <input style="display: flex;
    height: 48px;
    padding: 14px 20px;
    align-items: center;
    gap: 10px;
    flex: 1 0 0;
    border-radius: 12px;
    border: 1px solid #ECECEC;
    background: #FFF;" placeholder="E.g., Resolved XYZ issue" oninput="ChangeKeyPoint(2,event)">
                  <img style="display: none;" src="../Project icons/Delete.svg" id="keypoint2" class="keypoint2" onclick="DeleteKeyPoint(2)">
                </div>
              </div>
              <div style="display: flex;align-items: center;gap:4px;width:100%">
                <div id="keypointno3">3.</div>
                <div style="width:100%;    display: flex;
            align-items: center;
            gap: 10px;" onmouseover="showIcons('.keypoint3')" onmouseout="removeIcons('.keypoint3')">
                  <input style="display: flex;
    height: 48px;
    padding: 14px 20px;
    align-items: center;
    gap: 10px;
    flex: 1 0 0;
    border-radius: 12px;
    border: 1px solid #ECECEC;
    background: #FFF;" placeholder="E.g., Resolved XYZ issue" oninput="ChangeKeyPoint(3,event)">
                  <img style="display: none;" src="../Project icons/Delete.svg" id="keypoint3" class="keypoint3" onclick="DeleteKeyPoint(3)">
                </div>
              </div>
             
              
            </div>
            <button class="btn btn-outline-primary" style="width:140px;border-radius: 12px;display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;" onclick="AddKeyPoints()"><span style="font-size: 24px;"> + </span>Add</button>
          </div>
        </div>
        <div class="modal-footer" style="padding:0.5rem">

          <button type="button" style="display: flex;
                padding: 16px 40px;
                justify-content: center;
                align-items: center;
                gap: 10px;
                width:150px;
                border-radius: 12px;" class="btn btn-outline-primary" data-dismiss="modal">
            Cancel
          </button>

          <button type="button" onclick="SubmitTaskLink()" id="submiteodbutton" class="btn btn-primary" disabled style="display: flex;
                padding: 16px 40px;
                justify-content: center;
                align-items: center;
                gap: 10px;
                width:150px;
                border-radius: 12px;" data-dismiss="modal">
            Submit
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade docs-example-modal" id="cantSubmitTask" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
      <div class="modal-content" style="width:700px">
        <div class="modal-header">
          <h5 class="modal-title h6" id="mySmallModalLabel">Changes not possible</h5>
        </div>
        <div class="modal-body">
          You are trying to provide video link in past date which is not possible. Go to present date to provide video
          link.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-primary" data-dismiss="modal">No thanks</button>
          <a href='/performanceBoardemployee/<%=today.date%>'><button type="button" class="btn btn-primary">Go to Present
              Date</button></a>
        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="modal-monthly-overview" tabindex="-1" role="dialog" aria-labelledby="modal-change-username" aria-hidden="true" style="margin-left: 20px">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
      <form>
        <div class="modal-content model-xl" style="max-height:90vh;overflow: auto;">
          <div class="modal-header" style="display:flex;justify-content: space-between;align-items: center;">
            <div style="
            display: flex;
            align-items: center;
            gap: 20px;
          ">
               <input type="month" id="modal-monthSelect" style="width: 170px;
               padding: 10px;
               color: var(--gray-900, #101828);
     font-size: 16px;
     height: 40px;
     font-style: normal;
     font-weight: 400;
     line-height: 24px;border-radius: var(--radius-medium, 8px);
    border: 1px solid var(--gray-300, #D0D5DD);
    background: var(--White, #FFF);
    /* Shadow/xs */
    box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.05);" onchange="modalstreakchange(event.target.value)" value="<%= (new Date()).toISOString().substr(0, 7) %>">
            
              <span class="modal-heading">Monthly Overview</span>

            </div>

            <div style="display: flex;gap:20px">
              <div style="display: flex; flex-direction: column;justify-content: center;align-items: center;gap:5px">
                <div class="modal-heading" id="modal-total-badges"><img src="../img/gem.svg" style="width:24px">
                  <%= user.badges %>
                </div>
                <div style="color: #181818;font-size:12px" id="modal-streak-month">
                  Total Badges Earned in
                </div>
              </div>
              <div id="rating">
                <button type="button" class="btn" style="
                 display: flex;
                 flex-direction: column;
padding: 6px 16px;
justify-content: center;
align-items: center;
gap: 8px;
border-radius: 12px;
background: #0F0F0F;
                ">
                  <div id="modal-rating-avg" style="color:#FACC15;display: flex;gap:5px;font-size: 20px;">

                    <img src="../img/icons performance mgmt/desktop/d_star_full.svg" />
                  </div>
                  <div style="
                      font-weight: 500;
                      font-size: 12px;
                      color: #edf1f5;
                      flex: none;
                    ">
                    Monthly Avarage
                  </div>
                </button>
              </div>
              <img src="../img/icons performance mgmt/desktop/close_40x40.svg" data-dismiss="modal" style="cursor: pointer;">
            </div>
          </div>
          <div class="modal-body">
            <div class="row" style="gap: 20px" id="feedback-modal">
              <div class="modal-box">
                <div><img src="../img/icons performance mgmt/desktop/mini_streak.svg" /></div>
                <div>
                  <div id="modal-mini-streak" class="modal-heading"> Days</div>
                  <div>Shortest Streak</div>
                </div>
              </div>
              <div class="modal-box ">
                <div><img src="../img/icons performance mgmt/desktop/max_streak.svg" /></div>
                <div>
                  <div id="modal-maxi-streak" class="modal-heading"> Days</div>
                  <div>Longest Streak</div>
                </div>
              </div>
              <div class="modal-box ">
                <div><img src="../img/icons performance mgmt/desktop/modal-badges.svg" /></div>
                <div>
                  <div id="modal-streak-rewards" class="modal-heading">Badges</div>
                  <div>Streakes Reward</div>
                </div>
              </div>
            </div>

            <div class="streak-count" id="modal-streak-count" style="margin-top:20px;
         margin-top:30px;
        gap: 32px 0px;
        align-self: stretch;
        flex-wrap: wrap;">

            </div>
            <!-- <div style="display: flex;
      padding: 4px 16px;
      align-items: center;
      gap: 4px;
      margin-top: 30px;
      width:fit-content;
      border-radius: 8px;
      color:black;
      font-weight: 600;
      background: #D9FDEB;">Break previous months Longest streak of 15 Days to earn <img src="../img/gem.svg"> badges
              extra</div> -->
          </div>

        </div>
      </form>
    </div>
  </div>


  <!-- RaiseIssueOnLeave -->
  <div class="modal fade" id="RaiseIssueOnLeave" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content" style="display: flex;
    width: 358px;
    border-radius: 14px;">

        <div style="display: flex;
    padding: 16px 24px;
    flex-direction: column;
    justify-content: center;
    gap: 16px;">
          <div style="color: var(--text-content-primary, #181818);
      font-size: 16px;
      font-style: normal;
      font-weight: 600;
      line-height: 130%;">Issue Raised with the manager</div>
          <div style="color: var(--text-content-secondary, #898989);
      font-size: 14px;
      font-style: normal;
      font-weight: 400;
      line-height: 16px;">The issue will be resolved as soon as possible.</div>
          <textarea style="display: flex;
      padding: 8px 16px;
      align-items: flex-start;
      gap: 10px;
      border:none;
      color: black;
      align-self: stretch;
      border-radius: 14px;
      background: var(--surface-secondary, #FAFAFA);" placeholder="Write any point you want to convey to the manager" oninput="ChangeIssueRaiseReason(this.value,'IssueRaiseButton')"></textarea>
        </div>
        <div class="modal-footer" style="padding: 10px;">
          <button type="button" class="btn btn-outline-primary" data-dismiss="modal" style="display: flex;
        height: 48px;
        padding: 8px 16px;
        align-items: center;
        gap: 8px;

        border-radius: 14px;">Cancel</button>
          <button type="button" class="btn btn-primary" id="IssueRaiseButton" disabled onclick="SubmitRaiseIssueonLeave()" data-dismiss="modal" style="display: flex;
        height: 48px;
        padding: 8px 16px;
        align-items: center;
        gap: 8px;
        border-radius: 14px;">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    var datePicker = document.getElementById('datePicker');
    datePicker.value = '<%=currentday.date%>'
    let month = new Date().getMonth();
    let streakDays = `<%-JSON.stringify(streakDays)%>`;
    streakDays = JSON.parse(streakDays);
    let currentWeek = 0;
    let weeksStreakData = [];
    document.getElementById("monthSelect").addEventListener("change", streakchange);

    function streakchange() {

      $("#loadingModal").modal('show');
      var selectedMonth = document.getElementById("monthSelect").value;
      const streakHeader = document.getElementById('streakHeader');
      let streakDays;
      fetch('/streakmonth/' + selectedMonth + '/' + '<%=employee._id%>')
        .then(response => response.json())
        .then(data => {
          streakDays = data.streakdays;

          let day = 0;
          let streakCountHTML = "";
          let streakCount = 0;
          let targetdate;
          SetStreakDates('streak-count', streakDays)
          let today = getCurrentDay();
          if (selectedMonth.split('-')[1] == today.date.split('-')[1]) {
            for (let i = 0; i < streakDays.length; i++) {
              if (streakDays[i].date >= today.date) {
                if (streakDays[i].date === today.date) {
                  streakCount = day;
                }
                if (!streakDays[i].isdone) {
                  day += 1;
                } else {
                  day = 0;
                }

                if (day === 3) {
                  targetdate = streakDays[i].date.slice(-2);
                  day = 3;
                  break;
                } else if (day === 5) {
                  targetdate = streakDays[i].date.slice(-2);
                  day = 7;
                  break;
                } else if (day === 10) {
                  targetdate = streakDays[i].date.slice(-2);
                  day = 15;
                  break;
                } else if (day === 15) {
                  targetdate = streakDays[i].date.slice(-2);
                  day = 22;
                  break;
                } else if (day === 23) {
                  targetdate = streakDays[i].date.slice(-2);
                  day = 35;
                  break;
                }
              } else if (streakDays[i].isdone) {
                day += 1;
              } else {
                day = 0;
              }
            }

            streakHeader.innerHTML = `Current Streak: <span style="color:#48bf84;margin-left:5px">${streakCount} Days <img src='../img/icons performance mgmt/desktop/Streak states.svg'/></span> `
            document.getElementById('streakHeaderStreak').innerHTML = `Continue 4.5+ <img src="../img/Star.svg" width="17px" /> streak till<span style="font-size:17px; font-weight: 700"> ${targetdate} </span> to get +<span style="font-size:17px; font-weight: 700;">${day}</span> <img src="../img/gem.svg" style="width: 17px;" />`
            document.getElementById('streakHeaderStreak').style.display = 'flex';
          } else {
            let longestStreak = 0;
            let streak = 0;
            for (let i = 0; i < streakDays.length; i++) {
              if (streakDays[i].isdone) {
                streak += 1;
              } else {
                longestStreak = longestStreak > streak ? longestStreak : streak;
                streak = 0;
              }
            }

            streakHeader.innerHTML = `Longest Streak: <span style="color:#48bf84">${longestStreak} Days <img src='../img/icons performance mgmt/desktop/Streak states.svg'/></span> `
            document.getElementById('streakHeaderStreak').style.display = 'none';
          }


          $("#loadingModal").modal('hide');
        })
        .catch(error => {
          // Handle any errors
          console.error(error);
        });

    }

    const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];



    function modalstreakchange(selectedMonth) {
      let streakDays;
      fetch('/streakmonth/' + selectedMonth + '/' + '<%=employee._id%>')
        .then(response => response.json())
        .then(data => {
          streakDays = data.streakdays;
         
          SetModalStreakDates('modal-streak-count', streakDays);
          SetModalStreakData(selectedMonth,streakDays)
        })
        .catch(error => {
          // Handle any errors
          console.error(error);
        });
    }
   
    function PerformanceViewStreakModal(id) {
      let streakDays;
      var selectedMonth = document.getElementById("monthSelect").value;
      fetch('/streakmonth/' + selectedMonth + '/' + '<%=employee._id%>')
        .then(response => response.json())
        .then(data => {
          streakDays = data.streakdays;

          SetModalStreakDates(id, streakDays);
        })
        .catch(error => {
          // Handle any errors
          console.error(error);
        });
    }

    function SetModalStreakData(selectedMonth,streakDays)
    {
      let today = getCurrentDay();
      let longestStreak = 0;
          let shortestStreak = 30;
          let currentStreak = 0;
          let totalRating = 0;
          let totalBadges = 0;
          let streakrewards = 0;
          let streakStart = null;
          let streakEnd = null;
          let currentdays = 0;
          let cnt = 0;
          for (let i = 0; i < streakDays.length; i++) {
            if (streakDays[i].date <= today.date)
              currentdays++;
            totalRating += streakDays[i].rating;
            totalBadges += streakDays[i].badges;
            if (streakDays[i].rating > 0)
              cnt++;
            if (streakDays[i].isdone) {
              currentStreak++;
              if (currentStreak > longestStreak) {
                longestStreak = currentStreak;
              }
            } else {

              if (currentStreak > 0) {
                if (currentStreak < shortestStreak) {
                  shortestStreak = currentStreak;
                }
                currentStreak = 0;
              }
            }
            if (currentStreak == 3)
              streakrewards += 3;
            else if (currentStreak == 5)
              streakrewards += 7;
            else if (currentStreak == 10)
              streakrewards += 15;
            else if (currentStreak == 15)
              streakrewards += 22;
            else if (currentStreak == 23)
              streakrewards += 32;
          }

          const averageRating = cnt==0?0:totalRating / cnt;
          totalBadges += streakrewards;

          const modaltotalBadges = document.getElementById('modal-total-badges');
          const modalavgrating = document.getElementById('modal-rating-avg')
          const modalministreak = document.getElementById('modal-mini-streak')
          const modalmaxistreak = document.getElementById('modal-maxi-streak')
          const modalstreakrewards = document.getElementById('modal-streak-rewards');
          const modalStreakMonth = document.getElementById('modal-streak-month');
         
          modalStreakMonth.innerHTML = `Total Badges Earned in ${months[Number(selectedMonth) - 1]}`
          modaltotalBadges.innerHTML = `${totalBadges} <img src="../img/gem.svg" style='width:24px'>`
          modalavgrating.innerHTML = `${averageRating.toFixed(2)}  <img src="../img/icons performance mgmt/desktop/d_star_full.svg"/>`
          modalministreak.innerHTML = `${shortestStreak == 30 ? 0 : shortestStreak} Days`;
          modalmaxistreak.innerHTML = `${longestStreak} days`
          modalstreakrewards.innerHTML = `${streakrewards} Badges`
    }
   
    
  
    function getCurrentDay() {
      let days = 0;
      let streakCountHTML = "";
      let today = new Date();
      today = new Date(today.getTime() + today.getTimezoneOffset() * 60000); // Convert to GMT

      const year = today.getFullYear();
      let month = today.getMonth() + 1;
      let day = today.getDate();


      if (month < 10) {
        month = `0${month}`;
      }
      if (day < 10) {
        day = `0${day}`;
      }

      today = {
        date: `${year}-${month}-${day}`
      };
      return today;
    }

    function MoveWeekStreak(move, id) {
      currentWeek += move;
      if (currentWeek < 0)
        currentWeek += weeksStreakData.length;
      else if (currentWeek >= weeksStreakData.length)
        currentWeek -= weeksStreakData.length;
      document.getElementById(id).innerHTML = weeksStreakData[currentWeek];
    }
    function SetStreakDates(id, streakDays) {
      weeksStreakData = [];
      let days = 0;
      let today = getCurrentDay();
      streakCountHTML = '';
      let container = document.getElementById(id);
      let dayToStartNextWeek = 0;
      let weekNo = 0;
      let ClassAdded = false;
      for (let i = 0; i < streakDays.length; i++) {

        let date = new Date(streakDays[i].date);
        if (date.getDay() != 1)
          dayToStartNextWeek++;
        else
          break;
      }
      if (dayToStartNextWeek == 0)
        dayToStartNextWeek = 5;
      for (let i = 0; i < streakDays.length; i++) {
        let styleblendmode = streakDays[i].ratingReviewStatus == 'Pending' ? '' : 'luminosity'

        if (streakDays[i].isdone || streakDays[i].date >= today.date) {
          days += 1;
        } else {
          days = 0;
        }

        let ratingClass = 'rating-status'
        let rating = streakDays[i].rating ? streakDays[i].rating : 0;
        let starpath = "../img/black_star.svg"
        if (rating != 0) {
          if (rating >= 4.5) {
            ratingClass += ' golden-rating-status'
          } else if (rating >= 3.5) {
            ratingClass += ' skyblue-rating-status'
          } else if (rating >= 2.5) {
            ratingClass += ' orange-rating-status'
          } else {
            starpath = '../img/white_star.svg'
            ratingClass += ' red-rating-status'
          }
        }
        let taskStatus = streakDays[i].taskStatus;
        let taskStatusSrc = '';
        let taskDivClass = '';

        if (streakDays[i].date < today.date) {
          taskDivClass = 'perv_day';
          for (let j = 1; j < 4; j++) {
            if (!taskStatus[j] || taskStatus.length <= j) {
              if (j === 1) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunrise_perv.svg';
                break;
              } else if (j === 2) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sun_perv.svg';
                break;
              } else {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunset_perv.svg';
                break;
              }
            }
          }
          let tasksubmmitedcount = 0;
          for (let i = 1; i < taskStatus.length; i++) {
            if (taskStatus[i])
              tasksubmmitedcount++;
          }

          if (taskStatusSrc == '' && (taskStatus.length == 4 || streakDays[i].rating > 0)) {
            if (streakDays[i].rating > 0 && streakDays[i].rating >= 2.5 && streakDays[i].rating <= 3.5) {
              taskDivClass = 'current_day';
              taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_yellow.svg';
            } else if (streakDays[i].rating > 0 && streakDays[i].rating < 2.5) {
              taskDivClass = 'perv_day';
              taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_red.svg';
            } else {
              taskDivClass = 'complete_day';
              taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_green.svg';
            }
          } else if (taskStatusSrc == '' || tasksubmmitedcount <= 1) {
            taskDivClass = 'perv_day';
            taskStatusSrc = '../img/icons performance mgmt/desktop/Cross_red.svg';
          }
        } else if (streakDays[i].date === today.date) {
          taskDivClass = 'current_day';
          for (let j = 0; j < 4; j++) {
            if (!taskStatus[j] || taskStatus.length <= j) {
              if (j === 1) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunrise.svg';
              } else if (j === 2) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sun.svg';
              } else {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunset.svg';
              }
            }
          }
          if (taskStatusSrc == '' && taskStatus.length == 4) {
            taskDivClass = 'complete_day';
            taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_green.svg';
          }
        }

        if (streakDays[i].onLeave) {
          taskDivClass = 'perv_day';
          if(streakDays[i].leaveType=='paid')
          taskStatusSrc = '../img/icons performance mgmt/desktop/PTO.svg';
          else
          taskStatusSrc = '../img/icons performance mgmt/desktop/UTO.svg';
        }

        if (!ClassAdded && id == 'streak-count') {

          streakCountHTML += `<div class="streak-dates-box">`
          if (dayToStartNextWeek > 3) {
            if(streakDays[i].date<=today.date)
            weekNo++;
            streakCountHTML += `<div style="color: var(--gray-400, #98A2B3);
  font-size: 11.077px;
  display:flex;
  width:100px;
  position:absolute;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  letter-spacing: 1.662px;">Week ${weekNo}</div>`
          }
          
          ClassAdded = true;
        }

        streakCountHTML += ` <div>
    <div style="display: flex; gap: 5px; justify-content: center; align-items: center; margin-bottom: 10px; width: 60px; height: 30px;">
      ${streakDays[i].ratingReviewStatus !== '' ?
            `<div style="
          display: flex;
          width: 24px;
          height: 24px;
          padding: 4px 0px;
          justify-content: center;
          align-items: center;
          gap: 4px;
          border-radius: 4px;
          background: var(--indigo-50, #EEF4FF);  
          mix-blend-mode: ${styleblendmode};
        "
        data-dismiss='modal'
        data-target='#Rating-Reviewed-modal-step1'
        data-toggle='modal'
        onclick="SetRatingReviwedModal(
          '${streakDays[i].badges}',
          '${streakDays[i].rating}',
          '${streakDays[i].managerFeedback}",
          '${streakDays[i].date}',
          '<%=employee._id%>'
        )"> 
          <img src="../img/icons performance mgmt/desktop/ratingReviewPerformance.svg">
        </div>` : ''}
      ${streakDays[i].onLeave && streakDays[i].date < today.date ?
            `<div class="dropdown">
          ${streakDays[i].countTaskStatus > 0 ?
              `<div 
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                color: #FF6565;
                font-size: 14px;
                font-weight: 500;
                width:90px;
              "
              onclick="ChangeVisibility('dropdownRaiseIssue-${streakDays[i].date}')">
              ${streakDays[i].leaveType ? streakDays[i].leaveType=='paid'?'PTO':'UTO': ''}   
            </div>
            <div class="dropdown-menu" id="dropdownRaiseIssue-${streakDays[i].date}" style="display: none; width: 330px; padding: 16px; flex-direction: column; justify-content: center; align-items: flex-start; gap: 16px; border-radius: 8px; background: #FFF7F7; box-shadow: 0px 2px 4px -2px rgba(16, 24, 40, 0.06), 0px 4px 8px -2px rgba(16, 24, 40, 0.10);">
            <div class="text-red-14-700">No Loom Update - Leave Deducted</div>
            <div class="text-red-14-700">
              You haven't uploaded ${streakDays[i].countTaskStatus < 3 ? 'any' : ''} Loom video updates for this day.
              Your leave quota will be deducted as per company policy.
            </div>
            <div style="display: flex; height: 40px; padding: 11px 16px; align-items: center; gap: 8px; cursor: pointer; border-radius: 12px; border: 1px solid #FF6565; background: #FFF;" class="text-red-14-700" data-toggle="modal" data-target="#RaiseIssueOnLeave" onclick="SetRaiseIssueOnLeaveDate('${streakDays[i].date}'); ChangeVisibility('dropdownRaiseIssue-${streakDays[i].date}')"> 
              Raise an Issue
            </div>
          </div> ` :
              `<div 
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                color: #FF6565;
                font-size: 14px;
                font-weight: 500;
                width:90px;
              ">
              ${streakDays[i].leaveType ? streakDays[i].leaveType=='paid'?'PTO':'UTO': ''}   
            </div>`
            }
         </div>` :
            `<div 
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                color: #FF6565;
                font-size: 14px;
                font-weight: 500;
                width:90px;
              "
              onclick="ChangeVisibility('dropdownRaiseIssue-${streakDays[i].date}')">
              ${streakDays[i].leaveType ? streakDays[i].leaveType=='paid'?'PTO':'UTO': ''}   
            </div>`}
    </div>
  
  `

        if (days == 3 || days == 5 || days == 10 || days == 15 || days == 23) {
          if (streakDays[i].date > today.date) {
            streakCountHTML += `
            <div data-dismiss='modal' onclick="getPerformanceByDate('${streakDays[i].date}')" data-toggle='modal' data-target='#RatingInfoModal' style="align-items: center;
              display: flex;
              flex-direction: column;">
              <div style="font-size: 14px; padding: 0px 4px" class="circle small">
                <div>+${days == 3 ? 3 : days == 5 ? 7 : days == 10 ? 15 : days == 15 ? 22 : days == 23 ? 32 : 0}<img src='../img/gem.svg'/></div>
                <img src='../img/icons performance mgmt/desktop/Streak states_notDone.svg' />
                <div>${streakDays[i].date.slice(-2)}</div>
              </div>
              <div class=" ${ratingClass}" >${rating != 0 ? rating + `<img style="width:15px;margin-bottom:4px"  src=${starpath}>` : ''}</div>
            </div>
            </div>
          `;
          } else {
            streakCountHTML += `
            <div data-dismiss='modal'  onclick="getPerformanceByDate('${streakDays[i].date}')" data-toggle='modal' data-target='#RatingInfoModal' style="align-items: center;
              display: flex;
              flex-direction: column;">
              <div style="font-size: 14px; padding: 0px 4px" class="circle big ${streakDays[i].isdone ? 'green' : 'text-green'}">
                <div>+${days == 3 ? 3 : days == 5 ? 7 : days == 10 ? 15 : days == 15 ? 22 : days == 23 ? 32 : 0}<img src='../img/gem.svg'/></div>
                <img src='../img/icons performance mgmt/desktop/Streak states.svg' />
                <div>${streakDays[i].date.slice(-2)}</div>
              </div>
              <div class=" ${ratingClass}" >${rating != 0 ? rating + `<img style="width:15px;margin-bottom:4px"  src=${starpath}>` : ''}</div>
            </div>
          </div>
          `;
          }

          if (i + 1 != streakDays.length) {
            if (id == 'streak-count') {
          if (!(dayToStartNextWeek == 1 || i + 1 == streakDays.length)) {
            streakCountHTML += `<div class="streakcount-line" style="border: 1px dashed #48BF84"></div>`;
          }
        }
        else{
          streakCountHTML += `<div class="streakcount-line" style="border: 1px dashed #48BF84"></div>`;
        }
      }
        } else {
          streakCountHTML += `
          <div  data-dismiss='modal'  onclick="getPerformanceByDate('${streakDays[i].date}')" data-toggle='modal' data-target='#RatingInfoModal' style="align-items: center;
            display: flex;
            flex-direction: column;" class="streakcount-box" >
            <div class="circle small ${streakDays[i].isdone ? 'green' : taskDivClass}">
              <img src="${streakDays[i].isdone ? '../img/icons performance mgmt/desktop/Streak states.svg' : streakDays[i].date > today.date ? '../img/icons performance mgmt/desktop/Streak states_notDone.svg' : taskStatusSrc}" />
              <div>${streakDays[i].date.slice(-2)}</div>
            </div>
            <div class=" ${ratingClass}" >${rating != 0 ? rating + `<img style="width:15px;margin-bottom:4px" src=${starpath}>` : ''}</div>
          </div>
        </div>
        `;

          if (i + 1 != streakDays.length) {
            let linehtml='';
            if (streakDays[i].isdone) {
              linehtml += `<div class="streakcount-line" style="border: 1px dashed #48bf84"></div>`;
            } else {
              linehtml += `<div class="streakcount-line" style="border: 1px dashed #999"></div>`;
            }
            if (id == 'streak-count') {
          if (!(dayToStartNextWeek == 1 || i + 1 == streakDays.length)) {
            streakCountHTML +=linehtml;
          }
        }
        else{
          streakCountHTML += linehtml
        }
      }
        }
        if (id == 'streak-count') {
          if (dayToStartNextWeek == 1 || i + 1 == streakDays.length) {
            streakCountHTML += `</div>`;
            weeksStreakData.push(streakCountHTML)
            streakCountHTML = '';
            dayToStartNextWeek = 5;
            ClassAdded = false;
          } else
            dayToStartNextWeek--;
        }
       

      }
      currentWeek =getWeekOfMonth(today.date);
 
      container.innerHTML = weeksStreakData[currentWeek] 
    }
    function getWeekOfMonth(date) {
      date=new Date(date)
  const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);
  const dayOfWeek = firstDay.getDay();
  const daysInFirstWeek = 7 - dayOfWeek;
  const dayOfMonth = date.getDate();

  return Math.ceil((dayOfMonth - daysInFirstWeek) / 7) ;
}
    function SetModalStreakDates(id, streakDays) {
      let days = 0;
      let today = getCurrentDay();
      streakCountHTML = '';
      let container = document.getElementById(id);


      for (let i = 0; i < streakDays.length; i++) {
        let styleblendmode = streakDays[i].ratingReviewStatus == 'Pending' ? '' : 'luminosity'

        if (streakDays[i].isdone || streakDays[i].date >= today.date) {
          days += 1;
        } else {
          days = 0;
        }

        let ratingClass = 'rating-status'
        let rating = streakDays[i].rating ? streakDays[i].rating : 0;
        let starpath = "../img/black_star.svg"
        if (rating != 0) {
          if (rating >= 4.5) {
            ratingClass += ' golden-rating-status'
          } else if (rating >= 3.5) {
            ratingClass += ' skyblue-rating-status'
          } else if (rating >= 2.5) {
            ratingClass += ' orange-rating-status'
          } else {
            starpath = '../img/white_star.svg'
            ratingClass += ' red-rating-status'
          }
        }
        let taskStatus = streakDays[i].taskStatus;
        let taskStatusSrc = '';
        let taskDivClass = '';

        if (streakDays[i].date < today.date) {
          taskDivClass = 'perv_day';
          for (let j = 1; j < 4; j++) {
            if (!taskStatus[j] || taskStatus.length <= j) {
              if (j === 1) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunrise_perv.svg';
                break;
              } else if (j === 2) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sun_perv.svg';
                break;
              } else {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunset_perv.svg';
                break;
              }
            }
          }
          let tasksubmmitedcount = 0;
          for (let i = 1; i < taskStatus.length; i++) {
            if (taskStatus[i])
              tasksubmmitedcount++;
          }

          if (taskStatusSrc == '' && (taskStatus.length == 4 || streakDays[i].rating > 0)) {
            if (streakDays[i].rating > 0 && streakDays[i].rating >= 2.5 && streakDays[i].rating <= 3.5) {
              taskDivClass = 'current_day';
              taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_yellow.svg';
            } else if (streakDays[i].rating > 0 && streakDays[i].rating < 2.5) {
              taskDivClass = 'perv_day';
              taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_red.svg';
            } else {
              taskDivClass = 'complete_day';
              taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_green.svg';
            }
          } else if (taskStatusSrc == '' || tasksubmmitedcount <= 1) {
            taskDivClass = 'perv_day';
            taskStatusSrc = '../img/icons performance mgmt/desktop/Cross_red.svg';
          }
        } else if (streakDays[i].date === today.date) {
          taskDivClass = 'current_day';
          for (let j = 0; j < 4; j++) {
            if (!taskStatus[j] || taskStatus.length <= j) {
              if (j === 1) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunrise.svg';
              } else if (j === 2) {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sun.svg';
              } else {
                taskStatusSrc = '../img/icons performance mgmt/desktop/sunset.svg';
              }
            }
          }
          if (taskStatusSrc == '' && taskStatus.length == 4) {
            taskDivClass = 'complete_day';
            taskStatusSrc = '../img/icons performance mgmt/desktop/Completed_green.svg';
          }
        }

        if (streakDays[i].onLeave) {
          taskDivClass = 'perv_day';
          if(streakDays[i].leaveType=='paid')
          taskStatusSrc = '../img/icons performance mgmt/desktop/PTO.svg';
          else
          taskStatusSrc = '../img/icons performance mgmt/desktop/UTO.svg';
        }


        streakCountHTML += ` <div>
    <div style="display: flex; gap: 5px; justify-content: center; align-items: center; margin-bottom: 10px; width: 60px; height: 30px;">
      ${streakDays[i].ratingReviewStatus !== '' ?
            `<div style="
          display: flex;
          width: 24px;
          height: 24px;
          padding: 4px 0px;
          justify-content: center;
          align-items: center;
          gap: 4px;
          border-radius: 4px;
          background: var(--indigo-50, #EEF4FF);  
          mix-blend-mode: ${styleblendmode};
        "
        data-dismiss='modal'
        data-target='#Rating-Reviewed-modal-step1'
        data-toggle='modal'
        onclick="SetRatingReviwedModal(
          '${streakDays[i].badges}',
          '${streakDays[i].rating}',
          '${streakDays[i].managerFeedback}",
          '${streakDays[i].date}',
          '<%=employee._id%>'
        )"> 
          <img src="../img/icons performance mgmt/desktop/ratingReviewPerformance.svg">
        </div>` : ''}
      ${streakDays[i].onLeave && streakDays[i].date < today.date ?
            `<div class="dropdown">
          ${streakDays[i].countTaskStatus > 0 ?
              `<div 
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                color: #FF6565;
                font-size: 14px;
                font-weight: 500;
                width:90px;
              "
              onclick="ChangeVisibility('dropdownRaiseIssue-${streakDays[i].date}')">
              ${streakDays[i].leaveType ? streakDays[i].leaveType=='paid'?'PTO':'UTO': ''}   
            </div>
            <div class="dropdown-menu" id="dropdownRaiseIssue-${streakDays[i].date}" style="display: none; width: 330px; padding: 16px; flex-direction: column; justify-content: center; align-items: flex-start; gap: 16px; border-radius: 8px; background: #FFF7F7; box-shadow: 0px 2px 4px -2px rgba(16, 24, 40, 0.06), 0px 4px 8px -2px rgba(16, 24, 40, 0.10);">
            <div class="text-red-14-700">No Loom Update - Leave Deducted</div>
            <div class="text-red-14-700">
              You haven't uploaded ${streakDays[i].countTaskStatus < 3 ? 'any' : ''} Loom video updates for this day.
              Your leave quota will be deducted as per company policy.
            </div>
            <div style="display: flex; height: 40px; padding: 11px 16px; align-items: center; gap: 8px; cursor: pointer; border-radius: 12px; border: 1px solid #FF6565; background: #FFF;" class="text-red-14-700" data-toggle="modal" data-target="#RaiseIssueOnLeave" onclick="SetRaiseIssueOnLeaveDate('${streakDays[i].date}'); ChangeVisibility('dropdownRaiseIssue-${streakDays[i].date}')"> 
              Raise an Issue
            </div>
          </div> ` :
              `<div 
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                color: #FF6565;
                font-size: 14px;
                font-weight: 500;
                width:90px;
              ">
              ${streakDays[i].leaveType ? streakDays[i].leaveType=='paid'?'PTO':'UTO': ''}   
            </div>`
            }
         </div>` :
            `<div 
              style="
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                color: #FF6565;
                font-size: 14px;
                font-weight: 500;
                width:90px;
              "
              onclick="ChangeVisibility('dropdownRaiseIssue-${streakDays[i].date}')">
              ${streakDays[i].leaveType ? streakDays[i].leaveType=='paid'?'PTO':'UTO': ''}   
            </div>`}
    </div>
  
  `

        if (days == 3 || days == 5 || days == 10 || days == 15 || days == 23) {
          if (streakDays[i].date > today.date) {
            streakCountHTML += `
            <div data-dismiss='modal' onclick="getPerformanceByDate('${streakDays[i].date}')" data-toggle='modal' data-target='#RatingInfoModal' style="align-items: center;
              display: flex;
              flex-direction: column;">
              <div style="font-size: 14px; padding: 0px 4px" class="circle small">
                <div>+${days == 3 ? 3 : days == 5 ? 7 : days == 10 ? 15 : days == 15 ? 22 : days == 23 ? 32 : 0}<img src='../img/gem.svg'/></div>
                <img src='../img/icons performance mgmt/desktop/Streak states_notDone.svg' />
                <div>${streakDays[i].date.slice(-2)}</div>
              </div>
              <div class=" ${ratingClass}" >${rating != 0 ? rating + `<img style="width:15px;margin-bottom:4px"  src=${starpath}>` : ''}</div>
            </div>
            </div>
          `;
          } else {
            streakCountHTML += `
            <div data-dismiss='modal'  onclick="getPerformanceByDate('${streakDays[i].date}')" data-toggle='modal' data-target='#RatingInfoModal' style="align-items: center;
              display: flex;
              flex-direction: column;">
              <div style="font-size: 14px; padding: 0px 4px" class="circle big ${streakDays[i].isdone ? 'green' : 'text-green'}">
                <div>+${days == 3 ? 3 : days == 5 ? 7 : days == 10 ? 15 : days == 15 ? 22 : days == 23 ? 32 : 0}<img src='../img/gem.svg'/></div>
                <img src='../img/icons performance mgmt/desktop/Streak states.svg' />
                <div>${streakDays[i].date.slice(-2)}</div>
              </div>
              <div class=" ${ratingClass}" >${rating != 0 ? rating + `<img style="width:15px;margin-bottom:4px"  src=${starpath}>` : ''}</div>
            </div>
          </div>
          `;
          }

          if (i + 1 != streakDays.length) {
            streakCountHTML += `<div class="streakcount-line" style="border: 1px dashed #48BF84"></div>`;
          }
        } else {
          streakCountHTML += `
          <div  data-dismiss='modal'  onclick="getPerformanceByDate('${streakDays[i].date}')" data-toggle='modal' data-target='#RatingInfoModal' style="align-items: center;
            display: flex;
            flex-direction: column;" class="streakcount-box" >
            <div class="circle small ${streakDays[i].isdone ? 'green' : taskDivClass}">
              <img src="${streakDays[i].isdone ? '../img/icons performance mgmt/desktop/Streak states.svg' : streakDays[i].date > today.date ? '../img/icons performance mgmt/desktop/Streak states_notDone.svg' : taskStatusSrc}" />
              <div>${streakDays[i].date.slice(-2)}</div>
            </div>
            <div class=" ${ratingClass}" >${rating != 0 ? rating + `<img style="width:15px;margin-bottom:4px" src=${starpath}>` : ''}</div>
          </div>
        </div>
        `;

          if (i + 1 != streakDays.length) {
            if (streakDays[i].isdone) {
              streakCountHTML += `<div class="streakcount-line" style="border: 1px dashed #48bf84"></div>`;
            } else {
              streakCountHTML += `<div class="streakcount-line" style="border: 1px dashed #999"></div>`;
            }
          }
        }

      }
      container.innerHTML = streakCountHTML
    }

    SetStreakDates('streak-count', streakDays);
    SetModalStreakDates('modal-streak-count', streakDays);
     SetModalStreakData(month+1,streakDays)
    function OpenCard(id) {

      let badgesbox = document.getElementById(id);
      if (badgesbox.style.display == 'none')
        badgesbox.style.display = 'flex';
      else
        badgesbox.style.display = 'none';
    }

    function changeLocation(selectedDate)
    {
      const performanceBoard = `/performanceBoardemployee/${selectedDate}`;
      window.location.href = performanceBoard;
    }
    
   
    function ExpendBlock(lessid, moreid) {
      let readless = document.querySelectorAll(lessid);
      let readmore = document.querySelectorAll(moreid);

      if (readless[0].style.display == 'none') {
        readmore.forEach((read) => {
          read.style.display = 'none';
        })
        readless[0].style.display = 'initial';
      } else {
        readmore.forEach((read) => {
          read.style.display = 'flex';
        })
        readless[0].style.display = 'none';
      }

    }

 
   
 
    function CloseBox(className, iconid, property) {
      let box = document.querySelectorAll(className);
      let icon = document.getElementById(iconid);
      icon.classList.toggle("fa-angle-down");
      icon.classList.toggle("fa-angle-up");
      if (box[0].style.display == "none")
        box.forEach(body => {
          body.style.display = property
        })
      else
        box.forEach(body => {
          body.style.display = "none"
        })
    }

    function ChangeTab() {
      let InitiativesTab = document.getElementById('InitiativesTab');
      let ProjectsTab = document.getElementById('ProjectsTab');
      let InitiativesBody = document.getElementById('InitiativesBody');
      let ProjectsBody = document.getElementById('ProjectsBody');
      if (InitiativesBody.style.display == 'flex') {
        InitiativesTab.classList.remove('active');
        ProjectsTab.classList.add('active');
        InitiativesBody.style.display = 'none';
        ProjectsBody.style.display = 'flex';
      } else {
        InitiativesTab.classList.add('active');
        ProjectsTab.classList.remove('active');
        InitiativesBody.style.display = 'flex';
        ProjectsBody.style.display = 'none';
      }
    }
    const linkInput = document.getElementById('linkSubmit');
    let keypoint = `<%= performanceRecord.keyPoints ? JSON.stringify(performanceRecord.keyPoints) : "[]" %>`;

    let tempElement = document.createElement("textarea");
    tempElement.innerHTML = keypoint;
    keypoint = tempElement.value;

    try {
      keypoint = JSON.parse(keypoint);
    } catch (error) {
      console.error("Error parsing keypoint:", error);
    }

    let keypoints = keypoint.length > 2 ? keypoint : ['', '', ''];
    let link = '';


    function showIcons(classname) {
        const box = document.querySelectorAll(classname);
        box.forEach((element) => {
            element.style.display = 'flex';
        });
    }

    function removeIcons(classname) {
        const box = document.querySelectorAll(classname);
        box.forEach((element) => {
            element.style.display = 'none';
        });
    }

    function AddKeyPoints() {
      keypoints.push('');
      UpdateKeyPointBody();
    }

    function DeleteKeyPoint(id) {
      keypoints.splice(id - 1, 1);
      UpdateKeyPointBody();
      ChangeVisbilityEodButton('submiteodbutton', 'eodlinkinput');
    }

    function UpdateKeyPointBody() {
      let keypointbody = document.getElementById('KeyPointBody');
      let innerhtml = '';

      for (let i = 0;i < keypoints.length;i++) {
        let keyno = i + 1;

        innerhtml += ` <div style="display: flex;align-items: center;gap:4px;width:100%">
              <div id="keypointno${keyno}">${keyno}.</div>
              <div style="width:100%;    display: flex;
              align-items: center;
              gap: 10px;" onmouseover="showIcons('.keypoint${keyno}')" onmouseout="removeIcons('.keypoint${keyno}')">
                <input style="display: flex;
      height: 48px;
      padding: 14px 20px;
      align-items: center;
      gap: 10px;
      flex: 1 0 0;
      border-radius: 12px;
      border: 1px solid #ECECEC;
      background: #FFF;" placeholder="E.g., Resolved XYZ issue" oninput="ChangeKeyPoint(${keyno},event)" value='${keypoints[keyno - 1] ? keypoints[keyno - 1] : ''}'>
                <img style="display: none;" src="../Project icons/Delete.svg" id="keypoint${keyno}" class="keypoint${keyno}" onclick="DeleteKeyPoint(${keyno})">
              </div>
            </div>`
      }
      keypointbody.innerHTML = innerhtml;
    }
   
    UpdateKeyPointBody();

    function ChangeKeyPoint(id, event) {
      keypoints[id - 1] = event.target.value.replace('"', '\\\"');
      ChangeVisbilityEodButton('submiteodbutton', 'eodlinkinput');
    }

    function ChangeVisbilityEodButton(id, inputid) {
      let submitButton = document.getElementById(id);
      const inputValue = document.getElementById(inputid).value.trim();
      link = inputValue;
      let count = 0;
      for (let i = 0; i < keypoints.length; i++) {
        if (keypoints[i].length > 0)
          count++;
      }
      if (inputValue.length > 0 && count > 2) {
        submitButton.disabled = false;
      } else {
        submitButton.disabled = true;
      }
    }

    function ChangeVisbility(boxid, buttonid) {
      const box = document.getElementById(boxid);
      const button = document.getElementById(buttonid);
      if (box.style.display == 'none') {
        box.style.display = "flex";
        button.innerHTML = "Close Tutorial <i class='fa fa-angle-up '> </i>";
      } else {
        box.style.display = "none";
        button.innerHTML = "Show Tutorial <i class='fa fa-angle-down '> </i>";
      }
    }

    function ChangeButtonState(id, event) {
      let submitButton = document.getElementById(id);
      const inputValue = event.target.value.trim();
      link = inputValue;
      if (inputValue.length > 0) {
        submitButton.disabled = false;
      } else {
        submitButton.disabled = true;
      }
    }

    function ClearValue(id) {
      document.getElementById(id).value = '';
    }
    var taskno;

    function showtaskno(i, link) {
      taskno = i;
      if (i == 3) {
        document.getElementById('eodlinkinput').value = link;
      } else
        linkInput.value = link;

    }
    const submitButton = document.getElementById('submitlinkbutton');


  

    async function SubmitTaskLink() {
     
     
      const data = {
        link: link,
        taskno: taskno,
        date: '<%=selectedDate%>',
        keyPoints: keypoints
      };

      try {
        let response = await fetch('/submit/dailytasklink', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });
         response = await response.json();
        
        
         if(response.message=='Submitted')
         {
          $('#successModal').modal("show");
         }
         else{
          $('#errorModal').modal("show");
         }

      } catch (error) {
        
        alert('Error:', error.message);
        $("#errorModal").modal("show");
      }
    }

   
//     SetHoverState()
//     function SetHoverState() {
//   var svgRedPath = document.getElementById('red');
//   var svgYellowPath = document.getElementById('yellow');
//   var svgBluePath = document.getElementById('blue');
//   var svgGreenPath = document.getElementById('green');

//   var red = new ProgressBar.Path(svgRedPath, {
//     easing: 'easeInOut',
//     duration: 100,
//     text: { value: '50' } // Change the text value to '50'
//   });
//   red.set(0);
//   red.animate(50);

//   var yellow = new ProgressBar.Path(svgYellowPath, {
//     easing: 'bounce',
//     duration: 200,
//     text: { value: '80' } // Change the text value to '80'
//   });
//   yellow.set(0);
//   yellow.animate(80);

//   var blue = new ProgressBar.Path(svgBluePath, {
//     easing: 'bounce',
//     duration: 300,
//     text: { value: '90' } // Change the text value to '90'
//   });
//   blue.set(0);
//   blue.animate(90);

//   var green = new ProgressBar.Path(svgGreenPath, {
//     easing: 'bounce',
//     duration: 400,
//     text: { value: '100' } // Change the text value to '100'
//   });
//   green.set(0);
//   green.animate(100);
// }
 

    const button = document.getElementById('feedbackrating')
    var it = 0;


    function getpervday(date) {
      const currentDate = new Date(date);
      currentDate.setDate(currentDate.getDate() - 1);

      const year = currentDate.getFullYear();
      const month = String(currentDate.getMonth() + 1).padStart(2, '0');
      const day = String(currentDate.getDate()).padStart(2, '0');

      const previousDateString = `${year}-${month}-${day}`;
      return previousDateString;
    }
    async function updateperviousDayPopUp(employeeId, date) {

      const response = await fetch('/performance/previousDayPopUp', {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          employeeId,
          date
        }),
      });


    }
  </script>
    <script>
    
      let feedbacks=[];
      let nudges=[];
     
    
      function getData()
      {
        fetch('/get/feedback/nudge/<%=employee._id%>')
        .then(res => res.json())
        .then(data => {
        
          feedbacks=data.feedbacks;
          nudges=data.nudges;
          SetFeedbackNudges();
         
        })
        .catch(err => {
          alert('Error:', err.message);
        });
      }
      getData()
      function SetFeedbackNudges() {
    let body = document.getElementById('NudegFeedbackBody');
    let bodym = document.getElementById('NudegFeedbackBodym');
    let innerHTML = '';
  
    for (let nudge of nudges) {
      let style = '';
      let type = nudge.type;
  
      if (type == 'Congratulatory Message') {
        style = 'background: var(--Success-100, #D1FADF); border: 4px solid var(--Success-50, #ECFDF3)';
      } else if (type == 'Appreciation Note') {
        style = 'background: var(--Success-100, #D1FADF); border: 4px solid var(--Success-50, #ECFDF3)';
      } else if (type == 'Improvement Suggestion') {
        style = 'background: var(--Success-100, #FEF0C7); border: 4px solid var(--Success-50, #FFFAEB)';
      } else {
        style = 'background: var(--Error-100, #FEE4E2); border: 4px solid var(--Error-50, #FEF3F2)';
      }
  
      innerHTML += `<div style="padding: 16px; background: white; border-radius: 8px; border: 1px #EAECF0 solid; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex; width: 100%;" >
        <div style="flex: 1 1 0; justify-content: flex-start; align-items: flex-start; gap: 16px; display: flex">
          <div style="width: 28px; justify-content: center; align-items: center; display: flex">
            <div style="flex: 1 1 0; align-self: stretch; padding: 8px; ${style}; justify-content: center; align-items: center; display: inline-flex;border-radius:28px;">
              <div style="width: 16px; height: 16px; position: relative; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: flex;">
                <img src="../NudgeType/${nudge.type.replace(/\s+/g, '')}.svg">
              </div>
            </div>
          </div>
          <div style="flex: 1 1 0; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: inline-flex;">
            <div class="d-flex justify-content-between align-self-stretch">
            <div style="align-self: stretch; color: #344054; font-size: 14px; font-weight: 500; line-height: 20px; word-wrap: break-word;">${nudge.title}</div>
                </div>
            <div style="align-self: stretch; color: #667085; font-size: 14px; font-weight: 400; line-height: 20px; word-wrap: break-word;">${nudge.description}</div>
          </div>
        </div>
      </div>`;
    }
  
    for (let feedback of feedbacks) {
      innerHTML += `<div class="comment-container" id="comment-${feedback._id}" style="padding: 16px; background: white; border-radius: 8px; border: 1px #EAECF0 solid; justify-content: flex-start; align-items: flex-start; gap: 4px; display: inline-flex; width: 100%;">
        <div style="flex: 1 1 0; justify-content: flex-start; align-items: flex-start; gap: 16px; display: flex;">
          <img style="width: 32px; height: 32px; border-radius: 160px;" src="${feedback.managerInfo?.image}">
          <div style="flex: 1 1 0; flex-direction: column; justify-content: flex-start; align-items: flex-start; display: inline-flex;">
            <div class="d-flex justify-content-between align-self-stretch">
              <div style="align-self: stretch; color: #344054; font-size: 14px; font-weight: 500; line-height: 20px; word-wrap: break-word;">${feedback.managerInfo?.name}</div>
               </div>
            <div style="align-self: stretch; color: #667085; font-size: 14px; font-weight: 400; line-height: 20px; word-wrap: break-word;">${feedback.comment}</div>
          </div>
        </div>
      </div>`;
    }
  
    body.innerHTML = innerHTML;
    bodym.innerHTML = innerHTML;
  }
    </script>
      <!----Set Perofmance Score -->
  <script>
    let monthYear=document.getElementById('monthSelect').value;

    let performanceScoreModal={employeeId:'<%=employee._id%>',monthYear:monthYear,performanceScore:0,performanceCalculateType:'Automatic',performanceMatrix:[] };
    let topScore={};
    function SetPerformanceScoreAndTopPerformer()
    {
      let PerformanceLevelm=document.getElementById('PerformanceLevelm');
      let PerformanceLevel=document.getElementById('PerformanceLevel');
      let TopPerformerName=document.getElementById('TopPerformerName');
      TopPerformerName.innerText=topScore.name;
      let TopPerformerScore=document.getElementById('TopPerformerScore');
      TopPerformerScore.innerText=topScore.score;

      PerformanceLevelm.innerHTML=performanceScoreModal?.level.info;
      PerformanceLevel.innerHTML=performanceScoreModal?.level.info;
       let bgEmployee='',bgTopPerformer='' 
       let performanceScore=performanceScoreModal?.score;
        if(performanceScore>90) 
        {bgEmployee='linear-gradient(270deg, #48BF84 -0.04%, #ECFDF3 100%)'} 
        else if(performanceScore>80) 
        {bgEmployee='linear-gradient(270deg, #2E90FA -0.04%, #EFF8FF 100%)'} 
        else if(performanceScore>50)
         {  bgEmployee='linear-gradient(270deg, #FDB022 -0.04%, #FFFAEB 100%)'} 
         else {bgEmployee='linear-gradient(270deg, #D92D20 -0.04%, #FEF3F2 100%)'} 
           if(topScore.score>90) 
          {bgTopPerformer='linear-gradient(270deg, #48BF84 -0.04%, #ECFDF3 100%)'} 
          else if(topScore.score>80) 
          {bgTopPerformer='linear-gradient(270deg, #2E90FA -0.04%, #EFF8FF 100%)'} 
          else if(topScore.score>50)
           {  bgTopPerformer='linear-gradient(270deg, #FDB022 -0.04%, #FFFAEB 100%)'} 
           else {bgTopPerformer='linear-gradient(270deg, #D92D20 -0.04%, #FEF3F2 100%)'}
      let SetGraphm=document.getElementById('SetGraphm');

      innerhtml=`<div class="group-2">
                    <div class="overlap-group" style="width: 90%;"><img class="img" src="../img/Skill badge icons/ph_target.svg" style="left:90%"/></div>
                    <div class="text">Expected Performance</div>
                    <div class="tooltip" >
                      <div class="content">
                        <div class="text-wrapper">90</div>
                      </div>
                     
                    </div>
                  </div>
                  <div class="group-3">
                    <div class="avatar-wrapper" style="display: flex;justify-content: flex-end;align-items: center
                    ;width:${topScore.score}% ;background:${bgTopPerformer}" >
                      <img style="width: 32px;
                      height: 32px;
                      border-radius: 32px;
                      margin-right: 10px;" src="${topScore.image}" />
                    </div>
                    <div class="text-2">Top performer</div>
                    <div class="tooltip-3" style="left:${topScore.score}%">
                      <div class="div-wrapper" >
                        <div class="text-wrapper">${topScore.score}</div>
                      </div>
                     
                    </div>
                  </div>
                  <div class="group-4">
                    <div class="overlap-2">
                      <div class="rectangle" id="PerformanceScoreGraph" style="background: linear-gradient(270deg, #F79009 -0.04%, #FEEFC7 100%);display: flex;justify-content: flex-end;align-items: center;overflow: hidden;
          width:${performanceScore}%;background:${bgEmployee}" >
           <img style="width: 32px;
           height: 32px;
           border-radius: 32px;
           margin-right: 10px;" src="<%=employee.image%>" />
          </div>
                      <div class="avatar-2"></div>
                      <div class="tooltip-4" style="left:${performanceScore}%">
                        <div class="content-2">
                          <div class="text-wrapper" id="PerformanceScoreEmployee">${performanceScore}</div>
                        </div>
                       
                      </div>
                    </div>
                    <div class="text"><%=employee.firstName%> Performance</div>
                  </div>`
      
      SetGraphm.innerHTML=innerhtml;           
    }
    function SetReportofMonth(performanceScore) {
      performanceScore = parseFloat(performanceScore);
     
    var sportsPoints = (performanceScore/100).toFixed(2),
		svgSportsPath = document.getElementById('sports')
	document.getElementById('performanceScoreText').innerHTML = performanceScore;
   
var sports = new ProgressBar.Path(svgSportsPath, {
  easing: 'easeInOut',
  duration: 1000,
	text: { value: '20' }
});
sports.set(0);

sports.animate(sportsPoints); 

var svgSportsPathm = document.getElementById('sportsm')
	document.getElementById('performanceScoreTextm').innerHTML = performanceScore;
   
var sportsm = new ProgressBar.Path(svgSportsPathm, {
  easing: 'easeInOut',
  duration: 1000,
	text: { value: '20' }
});
sportsm.set(0);
sportsm.animate(sportsPoints); 
      
        let color;
        if (performanceScore <= 50)
          color = '#D92D20'
        else if (performanceScore <= 80)
          color = '#FDB022';
        else if (performanceScore <=90)
          color = '#2E90FA';
        else 
          color = '#48BF84;';
          svgSportsPath.setAttribute('stroke',color );
          svgSportsPathm.setAttribute('stroke',color );
          SetPerformanceScoreAndTopPerformer()
        }
    
    async function GetPerformanceModalData(monthYear)
    {
    let response=await fetch('/performanceModal/?id=<%=employee._id%>&monthYear='+monthYear);
    response=await response.json();
    topScore=response.topScore;
    performanceScoreModal=response.performanceScoreModal;
    SetReportofMonth(performanceScoreModal?.score)

    }
     GetPerformanceModalData(monthYear)
 
 </script>
 <!-- Include JavaScript files -->
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
 <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
 <script
   src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

 <!-- Core JS - includes jquery, bootstrap, popper, in-view and sticky-kit -->
 <script src="../js/purpose.core.js"></script>
 <!-- Page JS -->
 <script src="../libs/autosize/dist/autosize.min.js"></script>

 <script src="../libs/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"></script>
 <script src="../libs/progressbar.js/dist/progressbar.min.js"></script>
 <script src="../libs/apexcharts/dist/apexcharts.min.js"></script>
 <script src="../libs/moment/min/moment.min.js"></script>

 <script src="//cdn.quilljs.com/1.3.6/quill.js"></script>
 <script src="../libs/fullcalendar/dist/fullcalendar.min.js"></script>
 <!-- Purpose JS -->
 <script src="../js/purpose.js"></script>
 <!-- Demo JS - remove it when starting your project -->
 <script src="../js/demo.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>






</body>

</html>